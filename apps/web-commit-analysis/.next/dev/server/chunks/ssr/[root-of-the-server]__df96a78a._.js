module.exports = [
	"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"analysisCache",
			() => analysisCache,
			"bugCausality",
			() => bugCausality,
			"bugCausalityRelations",
			() => bugCausalityRelations,
			"cacheTypes",
			() => cacheTypes,
			"classifications",
			() => classifications,
			"classificationsRelations",
			() => classificationsRelations,
			"commitCategories",
			() => commitCategories,
			"commits",
			() => commits,
			"commitsRelations",
			() => commitsRelations,
			"fileChanges",
			() => fileChanges,
			"fileChangesRelations",
			() => fileChangesRelations,
			"patternStatuses",
			() => patternStatuses,
			"regressionPatterns",
			() => regressionPatterns,
			"relationshipTypes",
			() => relationshipTypes,
			"releases",
			() => releases,
			"schema",
			() => schema,
			"severityLevels",
			() => severityLevels,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sqlite-core/table.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sqlite-core/columns/text.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sqlite-core/columns/integer.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$real$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sqlite-core/columns/real.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sqlite-core/indexes.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/relations.js [app-rsc] (ecmascript)",
			)
		const commits = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"sqliteTable"
		])(
			"commits",
			{
				sha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("sha").primaryKey(),
				shortSha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("short_sha").notNull(),
				author: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("author").notNull(),
				authorEmail: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("author_email").notNull(),
				date: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("date", {
					mode: "timestamp",
				}).notNull(),
				message: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("message").notNull(),
				messageType: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("message_type"),
				messageScope: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("message_scope"),
				prNumber: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("pr_number"),
				filesChanged: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("files_changed").default(0),
				insertions: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("insertions").default(0),
				deletions: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("deletions").default(0),
				analyzedAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("analyzed_at", {
					mode: "timestamp",
				}),
				deepAnalyzedAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("deep_analyzed_at", {
					mode: "timestamp",
				}),
			},
			(table) => [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("commits_date_idx").on(table.date),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("commits_message_type_idx").on(table.messageType),
			],
		)
		const commitsRelations = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"relations"
		])(commits, ({ many, one }) => ({
			fileChanges: many(fileChanges),
			classification: one(classifications, {
				fields: [commits.sha],
				references: [classifications.commitSha],
			}),
			causedBugs: many(bugCausality, {
				relationName: "causedBugs",
			}),
			fixedBy: many(bugCausality, {
				relationName: "fixedBy",
			}),
		}))
		const fileChanges = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"sqliteTable"
		])(
			"file_changes",
			{
				id: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("id").primaryKey({
					autoIncrement: true,
				}),
				commitSha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("commit_sha")
					.notNull()
					.references(() => commits.sha, {
						onDelete: "cascade",
					}),
				filePath: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("file_path").notNull(),
				changeType: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("change_type", {
					enum: ["A", "M", "D", "R"],
				}).notNull(),
				insertions: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("insertions").default(0),
				deletions: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("deletions").default(0),
				subsystem: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("subsystem"),
			},
			(table) => [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("file_changes_commit_sha_idx").on(table.commitSha),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("file_changes_subsystem_idx").on(table.subsystem),
			],
		)
		const fileChangesRelations = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"relations"
		])(fileChanges, ({ one }) => ({
			commit: one(commits, {
				fields: [fileChanges.commitSha],
				references: [commits.sha],
			}),
		}))
		const commitCategories = [
			"bugfix",
			"feature",
			"refactor",
			"documentation",
			"test",
			"build",
			"ci",
			"chore",
			"style",
			"performance",
			"revert",
			"unknown",
		]
		const classifications = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"sqliteTable"
		])(
			"classifications",
			{
				id: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("id").primaryKey({
					autoIncrement: true,
				}),
				commitSha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("commit_sha")
					.notNull()
					.references(() => commits.sha, {
						onDelete: "cascade",
					}),
				category: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("category", {
					enum: commitCategories,
				}).notNull(),
				confidence: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$real$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"real"
				])("confidence")
					.notNull()
					.default(0),
				flags: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("flags", {
					mode: "json",
				})
					.$type()
					.default([]),
				riskScore: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$real$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"real"
				])("risk_score")
					.notNull()
					.default(0),
				analysisVersion: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("analysis_version")
					.notNull()
					.default(1),
			},
			(table) => [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"uniqueIndex"
				])("classifications_commit_sha_idx").on(table.commitSha),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("classifications_category_idx").on(table.category),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("classifications_risk_score_idx").on(table.riskScore),
			],
		)
		const classificationsRelations = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"relations"
		])(classifications, ({ one }) => ({
			commit: one(commits, {
				fields: [classifications.commitSha],
				references: [commits.sha],
			}),
		}))
		const releases = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"sqliteTable"
		])(
			"releases",
			{
				id: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("id").primaryKey({
					autoIncrement: true,
				}),
				version: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("version")
					.notNull()
					.unique(),
				date: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("date", {
					mode: "timestamp",
				}).notNull(),
				tagSha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("tag_sha"),
				fixCount: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("fix_count").default(0),
				featureCount: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("feature_count").default(0),
				totalRisk: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$real$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"real"
				])("total_risk").default(0),
			},
			(table) => [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("releases_date_idx").on(table.date),
			],
		)
		const relationshipTypes = ["root_cause", "related_to"]
		const bugCausality = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"sqliteTable"
		])(
			"bug_causality",
			{
				id: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("id").primaryKey({
					autoIncrement: true,
				}),
				bugFixSha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("bug_fix_sha")
					.notNull()
					.references(() => commits.sha, {
						onDelete: "cascade",
					}),
				causeSha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("cause_sha")
					.notNull()
					.references(() => commits.sha, {
						onDelete: "cascade",
					}),
				relationshipType: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("relationship_type", {
					enum: relationshipTypes,
				}).notNull(),
				confidence: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$real$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"real"
				])("confidence")
					.notNull()
					.default(0),
				bugAge: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("bug_age"),
				bugAgeCommits: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("bug_age_commits"),
				analysisMethod: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("analysis_method"),
				notes: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("notes"),
				createdAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("created_at", {
					mode: "timestamp",
				}).notNull(),
				verifiedAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("verified_at", {
					mode: "timestamp",
				}),
				verifiedBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("verified_by"),
			},
			(table) => [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("bug_causality_bug_fix_sha_idx").on(table.bugFixSha),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("bug_causality_cause_sha_idx").on(table.causeSha),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"uniqueIndex"
				])("bug_causality_unique_idx").on(table.bugFixSha, table.causeSha),
			],
		)
		const bugCausalityRelations = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"relations"
		])(bugCausality, ({ one }) => ({
			bugFix: one(commits, {
				fields: [bugCausality.bugFixSha],
				references: [commits.sha],
				relationName: "fixedBy",
			}),
			cause: one(commits, {
				fields: [bugCausality.causeSha],
				references: [commits.sha],
				relationName: "causedBugs",
			}),
		}))
		const severityLevels = ["low", "medium", "high"]
		const patternStatuses = ["active", "resolved"]
		const regressionPatterns = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"sqliteTable"
		])(
			"regression_patterns",
			{
				id: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("id").primaryKey({
					autoIncrement: true,
				}),
				patternHash: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("pattern_hash")
					.notNull()
					.unique(),
				subsystem: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("subsystem"),
				keywords: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("keywords", {
					mode: "json",
				})
					.$type()
					.default([]),
				filePatterns: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("file_patterns", {
					mode: "json",
				})
					.$type()
					.default([]),
				firstOccurrence: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("first_occurrence").references(() => commits.sha),
				occurrenceCount: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("occurrence_count").default(1),
				commitShas: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("commit_shas", {
					mode: "json",
				})
					.$type()
					.default([]),
				severity: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("severity", {
					enum: severityLevels,
				}).default("low"),
				status: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("status", {
					enum: patternStatuses,
				}).default("active"),
				createdAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("created_at", {
					mode: "timestamp",
				}).notNull(),
				updatedAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("updated_at", {
					mode: "timestamp",
				}).notNull(),
			},
			(table) => [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("regression_patterns_subsystem_idx").on(table.subsystem),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("regression_patterns_status_idx").on(table.status),
			],
		)
		const cacheTypes = ["blame", "bisect", "diff", "log"]
		const analysisCache = (0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$table$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"sqliteTable"
		])(
			"analysis_cache",
			{
				id: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("id").primaryKey({
					autoIncrement: true,
				}),
				cacheKey: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("cache_key")
					.notNull()
					.unique(),
				cacheType: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("cache_type", {
					enum: cacheTypes,
				}).notNull(),
				filePath: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("file_path"),
				lineRange: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("line_range"),
				resultSha: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("result_sha"),
				resultData: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"text"
				])("result_data", {
					mode: "json",
				}),
				createdAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("created_at", {
					mode: "timestamp",
				}).notNull(),
				expiresAt: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"integer"
				])("expires_at", {
					mode: "timestamp",
				}),
			},
			(table) => [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("analysis_cache_cache_type_idx").on(table.cacheType),
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sqlite$2d$core$2f$indexes$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"index"
				])("analysis_cache_expires_at_idx").on(table.expiresAt),
			],
		)
		const schema = {
			commits,
			commitsRelations,
			fileChanges,
			fileChangesRelations,
			classifications,
			classificationsRelations,
			releases,
			bugCausality,
			bugCausalityRelations,
			regressionPatterns,
			analysisCache,
		}
	},
	"[externals]/fs [external] (fs, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("fs", () => require("fs"))

		module.exports = mod
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s(["closeDb", () => closeDb, "getDb", () => getDb])
		var __TURBOPACK__imported__module__$5b$externals$5d2f$better$2d$sqlite3__$5b$external$5d$__$28$better$2d$sqlite3$2c$__cjs$2c$__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$better$2d$sqlite3$40$11$2e$10$2e$0$2f$node_modules$2f$better$2d$sqlite3$29$__ =
			__turbopack_context__.i(
				"[externals]/better-sqlite3 [external] (better-sqlite3, cjs, [project]/Roo-Code/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$better$2d$sqlite3$2f$driver$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/better-sqlite3/driver.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__ =
			__turbopack_context__.i("[externals]/fs [external] (fs, cjs)")
		var __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__ =
			__turbopack_context__.i("[externals]/path [external] (path, cjs)")
		let db = null
		function createClient(dbPath) {
			// Ensure directory exists
			const dir = (0,
			__TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__[
				"dirname"
			])(dbPath)
			if (
				dir !== "." &&
				!(0,
				__TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__[
					"existsSync"
				])(dir)
			) {
				;(0,
				__TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__[
					"mkdirSync"
				])(dir, {
					recursive: true,
				})
			}
			const sqlite =
				new __TURBOPACK__imported__module__$5b$externals$5d2f$better$2d$sqlite3__$5b$external$5d$__$28$better$2d$sqlite3$2c$__cjs$2c$__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$better$2d$sqlite3$40$11$2e$10$2e$0$2f$node_modules$2f$better$2d$sqlite3$29$__[
					"default"
				](dbPath)
			// Enable WAL mode for better concurrent access
			sqlite.pragma("journal_mode = WAL")
			return (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$better$2d$sqlite3$2f$driver$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"drizzle"
			])(sqlite, {
				schema: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__,
			})
		}
		function getDb(dbPath) {
			const path = dbPath || process.env.COMMIT_ANALYSIS_DB_PATH || "./commit-analysis.db"
			if (!db) {
				db = createClient(path)
			}
			return db
		}
		function closeDb() {
			if (db) {
				// @ts-expect-error - accessing internal client
				db.$client?.close?.()
				db = null
			}
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/queries/commits.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"createCommit",
			() => createCommit,
			"createFileChanges",
			() => createFileChanges,
			"deleteCommit",
			() => deleteCommit,
			"deleteCommits",
			() => deleteCommits,
			"getCommit",
			() => getCommit,
			"getCommitBySha",
			() => getCommitBySha,
			"getCommitCount",
			() => getCommitCount,
			"getCommits",
			() => getCommits,
			"getCommitsBySubsystem",
			() => getCommitsBySubsystem,
			"getLatestCommit",
			() => getLatestCommit,
			"getUnanalyzedCommits",
			() => getUnanalyzedCommits,
			"markCommitDeepAnalyzed",
			() => markCommitDeepAnalyzed,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/select.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/sql.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		async function createCommit(
			data,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const result = await db
				.insert(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					],
				)
				.values({
					...data,
					analyzedAt: new Date(),
				})
				.onConflictDoUpdate({
					target: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].sha,
					set: {
						...data,
						analyzedAt: new Date(),
					},
				})
				.returning()
			const record = result[0]
			if (!record) {
				throw new Error(`Failed to create commit ${data.sha}`)
			}
			return record
		}
		async function createFileChanges(
			changes,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			if (changes.length === 0) return []
			return db
				.insert(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"fileChanges"
					],
				)
				.values(changes)
				.returning()
		}
		async function getCommit(
			sha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.commits.findFirst({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].sha,
					sha,
				),
				with: {
					fileChanges: true,
					classification: true,
				},
			})
		}
		async function getCommitBySha(
			sha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			// Support both full and short SHA
			const commit = await db.query.commits.findFirst({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].sha,
					sha,
				),
			})
			if (commit) return commit
			// Try short SHA match
			return db.query.commits.findFirst({
				where: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"sql"
				]`${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["commits"].sha} LIKE ${sha + "%"}`,
			})
		}
		async function getCommits(
			options = {},
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const conditions = []
			if (options.since) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"gte"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].date,
						options.since,
					),
				)
			}
			if (options.until) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"lte"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].date,
						options.until,
					),
				)
			}
			if (options.messageType) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].messageType,
						options.messageType,
					),
				)
			}
			return db.query.commits.findMany({
				where:
					conditions.length > 0
						? (0,
							__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
								"and"
							])(...conditions)
						: undefined,
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].date,
				),
				limit: options.limit,
				offset: options.offset,
				with: {
					classification: true,
				},
			})
		}
		async function getCommitCount(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const result = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					],
				)
			return result[0]?.count ?? 0
		}
		async function getLatestCommit(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.commits.findFirst({
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].date,
				),
			})
		}
		async function getUnanalyzedCommits(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.commits.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"isNull"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].deepAnalyzedAt,
				),
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].date,
				),
			})
		}
		async function markCommitDeepAnalyzed(
			sha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db
				.update(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					],
				)
				.set({
					deepAnalyzedAt: new Date(),
				})
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].sha,
						sha,
					),
				)
		}
		async function getCommitsBySubsystem(
			subsystem,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const changes = await db.query.fileChanges.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"fileChanges"
					].subsystem,
					subsystem,
				),
				with: {
					commit: {
						with: {
							classification: true,
						},
					},
				},
			})
			// Get unique commits
			const uniqueCommits = new Map()
			for (const change of changes) {
				if (change.commit && !uniqueCommits.has(change.commit.sha)) {
					uniqueCommits.set(change.commit.sha, change.commit)
				}
			}
			return Array.from(uniqueCommits.values())
		}
		async function deleteCommit(
			sha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db
				.delete(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].sha,
						sha,
					),
				)
		}
		async function deleteCommits(
			shas,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			if (shas.length === 0) return
			return db
				.delete(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"inArray"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].sha,
						shas,
					),
				)
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/queries/classifications.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"createClassification",
			() => createClassification,
			"getCategoryDistribution",
			() => getCategoryDistribution,
			"getClassification",
			() => getClassification,
			"getClassifications",
			() => getClassifications,
			"getClassificationsByCommits",
			() => getClassificationsByCommits,
			"getHighRiskCommits",
			() => getHighRiskCommits,
			"updateClassification",
			() => updateClassification,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/select.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/sql.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		async function createClassification(
			data,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const result = await db
				.insert(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					],
				)
				.values(data)
				.onConflictDoUpdate({
					target: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					].commitSha,
					set: {
						category: data.category,
						confidence: data.confidence,
						flags: data.flags,
						riskScore: data.riskScore,
						analysisVersion: data.analysisVersion,
					},
				})
				.returning()
			const record = result[0]
			if (!record) {
				throw new Error(`Failed to create classification for ${data.commitSha}`)
			}
			return record
		}
		async function getClassification(
			commitSha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.classifications.findFirst({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					].commitSha,
					commitSha,
				),
				with: {
					commit: true,
				},
			})
		}
		async function getClassifications(
			options = {},
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const conditions = []
			if (options.category) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"classifications"
						].category,
						options.category,
					),
				)
			}
			if (options.minRisk !== undefined) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"gte"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"classifications"
						].riskScore,
						options.minRisk,
					),
				)
			}
			return db.query.classifications.findMany({
				where:
					conditions.length > 0
						? (0,
							__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
								"and"
							])(...conditions)
						: undefined,
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					].riskScore,
				),
				limit: options.limit,
				offset: options.offset,
				with: {
					commit: true,
				},
			})
		}
		async function updateClassification(
			commitSha,
			data,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db
				.update(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					],
				)
				.set(data)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"classifications"
						].commitSha,
						commitSha,
					),
				)
				.returning()
		}
		async function getHighRiskCommits(
			threshold = 50,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.classifications.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"gte"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					].riskScore,
					threshold,
				),
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					].riskScore,
				),
				with: {
					commit: true,
				},
			})
		}
		async function getCategoryDistribution(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const result = await db
				.select({
					category:
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"classifications"
						].category,
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
					avgRisk: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`avg(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["classifications"].riskScore})`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					],
				)
				.groupBy(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					].category,
				)
				.orderBy(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"desc"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"sql"
						]`count(*)`,
					),
				)
			return result
		}
		async function getClassificationsByCommits(
			shas,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			if (shas.length === 0) return []
			return db.query.classifications.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"inArray"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"classifications"
					].commitSha,
					shas,
				),
				with: {
					commit: true,
				},
			})
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/queries/causality.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"createBugCausality",
			() => createBugCausality,
			"deleteCausalityForCommit",
			() => deleteCausalityForCommit,
			"getBugsCausedBy",
			() => getBugsCausedBy,
			"getCausalityStats",
			() => getCausalityStats,
			"getCausesForBugFix",
			() => getCausesForBugFix,
			"getTopBugIntroducers",
			() => getTopBugIntroducers,
			"verifyCausality",
			() => verifyCausality,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/select.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/sql.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		async function createBugCausality(
			data,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const result = await db
				.insert(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.values({
					...data,
					createdAt: new Date(),
				})
				.onConflictDoUpdate({
					target: [
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"bugCausality"
						].bugFixSha,
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"bugCausality"
						].causeSha,
					],
					set: {
						relationshipType: data.relationshipType,
						confidence: data.confidence,
						bugAge: data.bugAge,
						bugAgeCommits: data.bugAgeCommits,
						analysisMethod: data.analysisMethod,
						notes: data.notes,
					},
				})
				.returning()
			const record = result[0]
			if (!record) {
				throw new Error(`Failed to create bug causality for ${data.bugFixSha} -> ${data.causeSha}`)
			}
			return record
		}
		async function getCausesForBugFix(
			bugFixSha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.bugCausality.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					].bugFixSha,
					bugFixSha,
				),
				with: {
					cause: {
						with: {
							classification: true,
						},
					},
				},
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					].confidence,
				),
			})
		}
		async function getBugsCausedBy(
			causeSha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.bugCausality.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					].causeSha,
					causeSha,
				),
				with: {
					bugFix: {
						with: {
							classification: true,
						},
					},
				},
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					].confidence,
				),
			})
		}
		async function getTopBugIntroducers(
			limit = 10,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const result = await db
				.select({
					causeSha:
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"bugCausality"
						].causeSha,
					bugsCaused: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
					avgBugAge: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`avg(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["bugCausality"].bugAge})`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"bugCausality"
						].relationshipType,
						"root_cause",
					),
				)
				.groupBy(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					].causeSha,
				)
				.orderBy(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"desc"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"sql"
						]`count(*)`,
					),
				)
				.limit(limit)
			// Get commit details for each
			const shas = result.map((r) => r.causeSha)
			if (shas.length === 0) return []
			const commitDetails = await db.query.commits.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"inArray"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].sha,
					shas,
				),
				with: {
					classification: true,
				},
			})
			const commitMap = new Map(commitDetails.map((c) => [c.sha, c]))
			return result.map((r) => ({
				...r,
				commit: commitMap.get(r.causeSha),
			}))
		}
		async function verifyCausality(
			bugFixSha,
			causeSha,
			verifiedBy,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db
				.update(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.set({
					verifiedAt: new Date(),
					verifiedBy,
				})
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"and"
					])(
						(0,
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"eq"
						])(
							__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
								"bugCausality"
							].bugFixSha,
							bugFixSha,
						),
						(0,
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"eq"
						])(
							__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
								"bugCausality"
							].causeSha,
							causeSha,
						),
					),
				)
				.returning()
		}
		async function deleteCausalityForCommit(
			sha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			// Delete where this commit is either the fix or the cause
			await db
				.delete(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"bugCausality"
						].bugFixSha,
						sha,
					),
				)
			await db
				.delete(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"bugCausality"
						].causeSha,
						sha,
					),
				)
		}
		async function getCausalityStats(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const totalLinks = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
			const rootCauses = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"bugCausality"
						].relationshipType,
						"root_cause",
					),
				)
			const verified = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.where(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["bugCausality"].verifiedAt} IS NOT NULL`,
				)
			const avgBugAge = await db
				.select({
					avg: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`avg(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["bugCausality"].bugAge})`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"bugCausality"
					],
				)
				.where(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["bugCausality"].bugAge} IS NOT NULL`,
				)
			return {
				totalLinks: totalLinks[0]?.count ?? 0,
				rootCauses: rootCauses[0]?.count ?? 0,
				verified: verified[0]?.count ?? 0,
				avgBugAgeDays: avgBugAge[0]?.avg ?? 0,
			}
		}
	},
	"[externals]/crypto [external] (crypto, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("crypto", () => require("crypto"))

		module.exports = mod
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/queries/patterns.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"addCommitToPattern",
			() => addCommitToPattern,
			"createRegressionPattern",
			() => createRegressionPattern,
			"generatePatternHash",
			() => generatePatternHash,
			"getActivePatterns",
			() => getActivePatterns,
			"getPatternStats",
			() => getPatternStats,
			"getRegressionPattern",
			() => getRegressionPattern,
			"getRegressionPatternByHash",
			() => getRegressionPatternByHash,
			"getRegressionPatterns",
			() => getRegressionPatterns,
			"resolvePattern",
			() => resolvePattern,
			"updatePatternSeverity",
			() => updatePatternSeverity,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/select.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/sql.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__ =
			__turbopack_context__.i("[externals]/crypto [external] (crypto, cjs)")
		function generatePatternHash(subsystem, keywords) {
			const normalized = [subsystem, ...keywords.sort()].join(":").toLowerCase()
			return (0,
			__TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__[
				"createHash"
			])("md5")
				.update(normalized)
				.digest("hex")
		}
		async function createRegressionPattern(
			data,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const now = new Date()
			const result = await db
				.insert(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
				.values({
					...data,
					createdAt: now,
					updatedAt: now,
				})
				.onConflictDoUpdate({
					target: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					].patternHash,
					set: {
						occurrenceCount: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"sql"
						]`${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["regressionPatterns"].occurrenceCount} + 1`,
						commitShas: data.commitShas,
						severity: data.severity,
						status: data.status,
						updatedAt: now,
					},
				})
				.returning()
			const record = result[0]
			if (!record) {
				throw new Error(`Failed to create regression pattern ${data.patternHash}`)
			}
			return record
		}
		async function getRegressionPattern(
			id,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.regressionPatterns.findFirst({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					].id,
					id,
				),
			})
		}
		async function getRegressionPatternByHash(
			hash,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.regressionPatterns.findFirst({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					].patternHash,
					hash,
				),
			})
		}
		async function getRegressionPatterns(
			options = {},
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const conditions = []
			if (options.subsystem) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].subsystem,
						options.subsystem,
					),
				)
			}
			if (options.severity) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].severity,
						options.severity,
					),
				)
			}
			if (options.status) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].status,
						options.status,
					),
				)
			}
			if (options.minOccurrences !== undefined) {
				conditions.push(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["regressionPatterns"].occurrenceCount} >= ${options.minOccurrences}`,
				)
			}
			return db.query.regressionPatterns.findMany({
				where:
					conditions.length > 0
						? (0,
							__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
								"and"
							])(...conditions)
						: undefined,
				orderBy: [
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"desc"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].occurrenceCount,
					),
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"desc"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].updatedAt,
					),
				],
				limit: options.limit,
			})
		}
		async function addCommitToPattern(
			patternHash,
			commitSha,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const pattern = await getRegressionPatternByHash(patternHash, db)
			if (!pattern) {
				throw new Error(`Pattern not found: ${patternHash}`)
			}
			const existingShas = pattern.commitShas || []
			if (existingShas.includes(commitSha)) {
				return pattern
			}
			const updatedShas = [...existingShas, commitSha]
			const result = await db
				.update(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
				.set({
					commitShas: updatedShas,
					occurrenceCount: updatedShas.length,
					updatedAt: new Date(),
				})
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].patternHash,
						patternHash,
					),
				)
				.returning()
			return result[0]
		}
		async function updatePatternSeverity(
			patternHash,
			severity,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db
				.update(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
				.set({
					severity,
					updatedAt: new Date(),
				})
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].patternHash,
						patternHash,
					),
				)
				.returning()
		}
		async function resolvePattern(
			patternHash,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db
				.update(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
				.set({
					status: "resolved",
					updatedAt: new Date(),
				})
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].patternHash,
						patternHash,
					),
				)
				.returning()
		}
		async function getActivePatterns(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return getRegressionPatterns(
				{
					status: "active",
				},
				db,
			)
		}
		async function getPatternStats(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const total = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
			const active = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].status,
						"active",
					),
				)
			const bySeverity = await db
				.select({
					severity:
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].severity,
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
				.groupBy(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					].severity,
				)
			const bySubsystem = await db
				.select({
					subsystem:
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"regressionPatterns"
						].subsystem,
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
					totalOccurrences: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`sum(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["regressionPatterns"].occurrenceCount})`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					],
				)
				.groupBy(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"regressionPatterns"
					].subsystem,
				)
				.orderBy(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"desc"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"sql"
						]`sum(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["regressionPatterns"].occurrenceCount})`,
					),
				)
			return {
				total: total[0]?.count ?? 0,
				active: active[0]?.count ?? 0,
				bySeverity,
				bySubsystem,
			}
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/queries/cache.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"cleanupExpiredCache",
			() => cleanupExpiredCache,
			"generateCacheKey",
			() => generateCacheKey,
			"getBlameCache",
			() => getBlameCache,
			"getCacheEntry",
			() => getCacheEntry,
			"getCacheStats",
			() => getCacheStats,
			"invalidateCacheForFile",
			() => invalidateCacheForFile,
			"setBlameCache",
			() => setBlameCache,
			"setCacheEntry",
			() => setCacheEntry,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/sql.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__ =
			__turbopack_context__.i("[externals]/crypto [external] (crypto, cjs)")
		const DEFAULT_CACHE_TTL_HOURS = 24 * 7 // 1 week
		function generateCacheKey(type, ...args) {
			return (0,
			__TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__[
				"createHash"
			])("md5")
				.update([type, ...args].join(":"))
				.digest("hex")
		}
		async function getCacheEntry(
			cacheKey,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const entry = await db.query.analysisCache.findFirst({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"and"
				])(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"analysisCache"
						].cacheKey,
						cacheKey,
					),
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["analysisCache"].expiresAt} > ${Date.now()}`,
				),
			})
			return entry
		}
		async function setCacheEntry(
			data,
			ttlHours = DEFAULT_CACHE_TTL_HOURS,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const now = new Date()
			const expiresAt = new Date(now.getTime() + ttlHours * 60 * 60 * 1000)
			const result = await db
				.insert(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					],
				)
				.values({
					...data,
					createdAt: now,
					expiresAt,
				})
				.onConflictDoUpdate({
					target: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					].cacheKey,
					set: {
						resultSha: data.resultSha,
						resultData: data.resultData,
						createdAt: now,
						expiresAt,
					},
				})
				.returning()
			return result[0]
		}
		async function getBlameCache(
			filePath,
			lineRange,
			commitRange,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const cacheKey = generateCacheKey("blame", filePath, lineRange, commitRange)
			return getCacheEntry(cacheKey, db)
		}
		async function setBlameCache(
			filePath,
			lineRange,
			commitRange,
			resultShas,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const cacheKey = generateCacheKey("blame", filePath, lineRange, commitRange)
			return setCacheEntry(
				{
					cacheKey,
					cacheType: "blame",
					filePath,
					lineRange,
					resultData: resultShas,
				},
				db,
			)
		}
		async function invalidateCacheForFile(
			filePath,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db
				.delete(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"analysisCache"
						].filePath,
						filePath,
					),
				)
		}
		async function cleanupExpiredCache(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const now = Date.now()
			return db
				.delete(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"lt"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"analysisCache"
						].expiresAt,
						new Date(now),
					),
				)
		}
		async function getCacheStats(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const total = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					],
				)
			const byType = await db
				.select({
					cacheType:
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"analysisCache"
						].cacheType,
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					],
				)
				.groupBy(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					].cacheType,
				)
			const expired = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"analysisCache"
					],
				)
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"lt"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"analysisCache"
						].expiresAt,
						new Date(),
					),
				)
			return {
				total: total[0]?.count ?? 0,
				expired: expired[0]?.count ?? 0,
				byType,
			}
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/queries/releases.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"createRelease",
			() => createRelease,
			"getLatestRelease",
			() => getLatestRelease,
			"getRelease",
			() => getRelease,
			"getReleaseStats",
			() => getReleaseStats,
			"getReleases",
			() => getReleases,
			"updateReleaseStats",
			() => updateReleaseStats,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/select.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/sql.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		async function createRelease(
			data,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const result = await db
				.insert(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					],
				)
				.values(data)
				.onConflictDoUpdate({
					target: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					].version,
					set: {
						date: data.date,
						tagSha: data.tagSha,
						fixCount: data.fixCount,
						featureCount: data.featureCount,
						totalRisk: data.totalRisk,
					},
				})
				.returning()
			const record = result[0]
			if (!record) {
				throw new Error(`Failed to create release ${data.version}`)
			}
			return record
		}
		async function getRelease(
			version,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.releases.findFirst({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					].version,
					version,
				),
			})
		}
		async function getReleases(
			options = {},
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const conditions = []
			if (options.since) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"gte"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"releases"
						].date,
						options.since,
					),
				)
			}
			if (options.until) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"lte"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"releases"
						].date,
						options.until,
					),
				)
			}
			return db.query.releases.findMany({
				where:
					conditions.length > 0
						? (0,
							__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
								"and"
							])(...conditions)
						: undefined,
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					].date,
				),
				limit: options.limit,
			})
		}
		async function getLatestRelease(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			return db.query.releases.findFirst({
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					].date,
				),
			})
		}
		async function updateReleaseStats(
			version,
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			// Get the release
			const release = await getRelease(version, db)
			if (!release || !release.tagSha) {
				return null
			}
			// Get the previous release to determine commit range
			const allReleases = await getReleases({}, db)
			const currentIndex = allReleases.findIndex((r) => r.version === version)
			const previousRelease = allReleases[currentIndex + 1]
			// Get commits between releases
			const conditions = [
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"lte"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].date,
					release.date,
				),
			]
			if (previousRelease) {
				conditions.push(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"gte"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].date,
						previousRelease.date,
					),
				)
			}
			const releaseCommits = await db.query.commits.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"and"
				])(...conditions),
				with: {
					classification: true,
				},
			})
			let fixCount = 0
			let featureCount = 0
			let totalRisk = 0
			for (const commit of releaseCommits) {
				if (commit.messageType === "fix") fixCount++
				if (commit.messageType === "feat") featureCount++
				if (commit.classification) {
					totalRisk += commit.classification.riskScore
				}
			}
			const result = await db
				.update(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					],
				)
				.set({
					fixCount,
					featureCount,
					totalRisk,
				})
				.where(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"eq"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"releases"
						].version,
						version,
					),
				)
				.returning()
			return result[0]
		}
		async function getReleaseStats(
			db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])(),
		) {
			const total = await db
				.select({
					count: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`count(*)`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					],
				)
			const avgFixes = await db
				.select({
					avg: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`avg(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["releases"].fixCount})`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					],
				)
			const avgFeatures = await db
				.select({
					avg: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`avg(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["releases"].featureCount})`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					],
				)
			const avgRisk = await db
				.select({
					avg: __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"sql"
					]`avg(${__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["releases"].totalRisk})`,
				})
				.from(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"releases"
					],
				)
			return {
				total: total[0]?.count ?? 0,
				avgFixesPerRelease: avgFixes[0]?.avg ?? 0,
				avgFeaturesPerRelease: avgFeatures[0]?.avg ?? 0,
				avgRiskPerRelease: avgRisk[0]?.avg ?? 0,
			}
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/db/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/commits.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$classifications$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/classifications.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$causality$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/causality.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/patterns.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$cache$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/cache.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$releases$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/releases.ts [app-rsc] (ecmascript)",
			)
	},
	"[project]/Roo-Code/packages/commit-analysis/src/types.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
	},
	"[externals]/node:url [external] (node:url, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:url", () => require("node:url"))

		module.exports = mod
	},
	"[externals]/node:child_process [external] (node:child_process, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:child_process", () => require("node:child_process"))

		module.exports = mod
	},
	"[externals]/node:string_decoder [external] (node:string_decoder, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:string_decoder", () => require("node:string_decoder"))

		module.exports = mod
	},
	"[externals]/node:util [external] (node:util, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:util", () => require("node:util"))

		module.exports = mod
	},
	"[externals]/node:process [external] (node:process, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:process", () => require("node:process"))

		module.exports = mod
	},
	"[externals]/node:tty [external] (node:tty, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:tty", () => require("node:tty"))

		module.exports = mod
	},
	"[externals]/node:path [external] (node:path, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:path", () => require("node:path"))

		module.exports = mod
	},
	"[externals]/child_process [external] (child_process, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("child_process", () => require("child_process"))

		module.exports = mod
	},
	"[externals]/node:timers/promises [external] (node:timers/promises, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:timers/promises", () => require("node:timers/promises"))

		module.exports = mod
	},
	"[externals]/node:os [external] (node:os, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:os", () => require("node:os"))

		module.exports = mod
	},
	"[externals]/node:events [external] (node:events, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:events", () => require("node:events"))

		module.exports = mod
	},
	"[externals]/node:v8 [external] (node:v8, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:v8", () => require("node:v8"))

		module.exports = mod
	},
	"[externals]/node:fs [external] (node:fs, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:fs", () => require("node:fs"))

		module.exports = mod
	},
	"[externals]/node:stream [external] (node:stream, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:stream", () => require("node:stream"))

		module.exports = mod
	},
	"[externals]/node:buffer [external] (node:buffer, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:buffer", () => require("node:buffer"))

		module.exports = mod
	},
	"[externals]/node:stream/promises [external] (node:stream/promises, cjs)",
	(__turbopack_context__, module, exports) => {
		const mod = __turbopack_context__.x("node:stream/promises", () => require("node:stream/promises"))

		module.exports = mod
	},
	"[project]/Roo-Code/packages/commit-analysis/src/git/extractor.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"extractCommits",
			() => extractCommits,
			"extractFileChanges",
			() => extractFileChanges,
			"getCommitCount",
			() => getCommitCount,
			"getCommitsBetween",
			() => getCommitsBetween,
			"getHeadSha",
			() => getHeadSha,
			"getLatestTag",
			() => getLatestTag,
			"getTags",
			() => getTags,
			"resolveRef",
			() => resolveRef,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/execa@9.6.0/node_modules/execa/index.js [app-rsc] (ecmascript) <locals>",
			)
		// Git format string: SHA, short SHA, author name, author email, date (ISO), body
		// Note: LOG_FORMAT ends without a null - RECORD_SEPARATOR_FORMAT provides the separator
		const LOG_FORMAT = "%H%x00%h%x00%an%x00%ae%x00%aI%x00%B"
		const FIELD_SEPARATOR = "\x00"
		// Git format placeholder for use in --format argument (3 nulls between records)
		const RECORD_SEPARATOR_FORMAT = "%x00%x00%x00"
		// Literal null bytes for parsing git output
		const RECORD_SEPARATOR = "\x00\x00\x00"
		async function extractCommits(options = {}) {
			// Note: We don't use --numstat here because it complicates parsing.
			// File changes are fetched separately via extractFileChanges()
			const args = ["log", `--format=${LOG_FORMAT}${RECORD_SEPARATOR_FORMAT}`]
			if (options.since) {
				args.push(`${options.since}..${options.until || "HEAD"}`)
			} else if (options.until) {
				args.push(options.until)
			}
			if (options.limit) {
				args.push(`-n`, String(options.limit))
			}
			const { stdout } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])("git", args, {
				cwd: options.repoPath || process.cwd(),
				maxBuffer: 100 * 1024 * 1024,
			})
			return parseGitLog(stdout)
		}
		function parseGitLog(output) {
			const records = output
				.split(RECORD_SEPARATOR)
				.map((r) => r.trim())
				.filter(Boolean)
			const commits = []
			for (const record of records) {
				const parts = record.split(FIELD_SEPARATOR)
				if (parts.length < 6) continue
				const [sha, shortSha, author, authorEmail, dateStr, message] = parts
				// Extract PR number from message
				const prMatch = message.match(/#(\d+)/)
				const prNumber = prMatch ? parseInt(prMatch[1], 10) : undefined
				commits.push({
					sha,
					shortSha,
					author,
					authorEmail,
					date: new Date(dateStr),
					message: message.trim(),
					prNumber,
					// File stats are fetched separately via extractFileChanges()
					filesChanged: 0,
					insertions: 0,
					deletions: 0,
				})
			}
			return commits
		}
		async function extractFileChanges(sha, repoPath) {
			const { stdout } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])("git", ["diff-tree", "--no-commit-id", "--name-status", "-r", sha], {
				cwd: repoPath || process.cwd(),
			})
			const changes = []
			const lines = stdout.trim().split("\n").filter(Boolean)
			// Get numstat for insertions/deletions
			const { stdout: numstat } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])("git", ["diff-tree", "--no-commit-id", "--numstat", "-r", sha], {
				cwd: repoPath || process.cwd(),
			})
			const numstatMap = new Map()
			for (const line of numstat.trim().split("\n").filter(Boolean)) {
				const match = line.match(/^(\d+|-)\t(\d+|-)\t(.+)$/)
				if (match) {
					numstatMap.set(match[3], {
						insertions: match[1] === "-" ? 0 : parseInt(match[1], 10),
						deletions: match[2] === "-" ? 0 : parseInt(match[2], 10),
					})
				}
			}
			for (const line of lines) {
				const parts = line.split("\t")
				if (parts.length < 2) continue
				const changeTypeRaw = parts[0]
				const filePath = parts[parts.length - 1] // Handle renames (R100\told\tnew)
				let changeType = "M"
				if (changeTypeRaw.startsWith("A")) changeType = "A"
				else if (changeTypeRaw.startsWith("D")) changeType = "D"
				else if (changeTypeRaw.startsWith("R")) changeType = "R"
				const stats = numstatMap.get(filePath) || {
					insertions: 0,
					deletions: 0,
				}
				changes.push({
					filePath,
					changeType,
					insertions: stats.insertions,
					deletions: stats.deletions,
				})
			}
			return changes
		}
		async function getCommitCount(since, until, repoPath) {
			const args = ["rev-list", "--count"]
			if (since && until) {
				args.push(`${since}..${until}`)
			} else if (until) {
				args.push(until)
			} else {
				args.push("HEAD")
			}
			const { stdout } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])("git", args, {
				cwd: repoPath || process.cwd(),
			})
			return parseInt(stdout.trim(), 10)
		}
		async function getLatestTag(repoPath) {
			try {
				const { stdout } = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
					"execa"
				])("git", ["describe", "--tags", "--abbrev=0"], {
					cwd: repoPath || process.cwd(),
				})
				return stdout.trim()
			} catch {
				return null
			}
		}
		async function getTags(repoPath) {
			const { stdout } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])(
				"git",
				[
					"for-each-ref",
					"--sort=-creatordate",
					"--format=%(refname:short)%00%(objectname)%00%(creatordate:iso)",
					"refs/tags",
				],
				{
					cwd: repoPath || process.cwd(),
				},
			)
			const tags = []
			for (const line of stdout.trim().split("\n").filter(Boolean)) {
				const [name, sha, dateStr] = line.split("\x00")
				if (name && sha && dateStr) {
					tags.push({
						name,
						sha,
						date: new Date(dateStr),
					})
				}
			}
			return tags
		}
		async function getHeadSha(repoPath) {
			const { stdout } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])("git", ["rev-parse", "HEAD"], {
				cwd: repoPath || process.cwd(),
			})
			return stdout.trim()
		}
		async function resolveRef(ref, repoPath) {
			const { stdout } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])("git", ["rev-parse", ref], {
				cwd: repoPath || process.cwd(),
			})
			return stdout.trim()
		}
		async function getCommitsBetween(since, until, repoPath) {
			const { stdout } = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
				"execa"
			])("git", ["rev-list", `${since}..${until}`], {
				cwd: repoPath || process.cwd(),
			})
			return stdout.trim().split("\n").filter(Boolean)
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/git/parser.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"extractKeywords",
			() => extractKeywords,
			"extractPrNumber",
			() => extractPrNumber,
			"extractScope",
			() => extractScope,
			"getRevertedSha",
			() => getRevertedSha,
			"isBreakingChange",
			() => isBreakingChange,
			"isRevert",
			() => isRevert,
			"parseConventionalCommit",
			() => parseConventionalCommit,
		])
		// Conventional commit regex pattern
		// Format: type(scope)!: description
		const CONVENTIONAL_COMMIT_REGEX =
			/^(?<type>\w+)(?:\((?<scope>[^)]+)\))?(?<breaking>!)?\s*:\s*(?<description>.+?)(?:\n\n(?<body>[\s\S]*?))?(?:\n\n(?<footer>[\s\S]*))?$/
		// Common commit type mappings
		const TYPE_MAPPINGS = {
			fix: "fix",
			bugfix: "fix",
			hotfix: "fix",
			feat: "feat",
			feature: "feat",
			docs: "docs",
			doc: "docs",
			style: "style",
			refactor: "refactor",
			perf: "perf",
			performance: "perf",
			test: "test",
			tests: "test",
			build: "build",
			ci: "ci",
			chore: "chore",
			revert: "revert",
			wip: "chore",
		}
		function parseConventionalCommit(message) {
			// Extract first line for parsing
			const firstLine = message.split("\n")[0].trim()
			const rest = message.slice(firstLine.length).trim()
			const match = CONVENTIONAL_COMMIT_REGEX.exec(message.trim())
			if (match?.groups) {
				const { type, scope, breaking, description, body, footer } = match.groups
				// Extract PR number from description or footer
				const prMatch = message.match(/#(\d+)/)
				const prNumber = prMatch ? parseInt(prMatch[1], 10) : undefined
				return {
					type: normalizeType(type),
					scope: scope?.trim(),
					breaking: breaking === "!",
					description: description.trim(),
					body: body?.trim(),
					footer: footer?.trim(),
					prNumber,
				}
			}
			// Try simpler patterns for non-conventional commits
			// Pattern: "type: description"
			const simpleMatch = firstLine.match(/^(\w+):\s*(.+)$/)
			if (simpleMatch) {
				const [, type, description] = simpleMatch
				const prMatch = message.match(/#(\d+)/)
				return {
					type: normalizeType(type),
					breaking: false,
					description: description.trim(),
					body: rest || undefined,
					prNumber: prMatch ? parseInt(prMatch[1], 10) : undefined,
				}
			}
			// Pattern: "[type] description"
			const bracketMatch = firstLine.match(/^\[(\w+)\]\s*(.+)$/)
			if (bracketMatch) {
				const [, type, description] = bracketMatch
				const prMatch = message.match(/#(\d+)/)
				return {
					type: normalizeType(type),
					breaking: false,
					description: description.trim(),
					body: rest || undefined,
					prNumber: prMatch ? parseInt(prMatch[1], 10) : undefined,
				}
			}
			return null
		}
		function normalizeType(type) {
			const normalized = type.toLowerCase().trim()
			return TYPE_MAPPINGS[normalized] || normalized
		}
		function extractKeywords(message) {
			const keywords = []
			// Common bug-related keywords
			const bugKeywords = [
				"fix",
				"bug",
				"issue",
				"error",
				"crash",
				"fail",
				"broken",
				"regression",
				"revert",
				"incorrect",
				"wrong",
				"missing",
				"undefined",
				"null",
				"exception",
				"throw",
			]
			// Feature-related keywords
			const featureKeywords = ["add", "new", "feature", "implement", "support", "enable", "introduce"]
			// Refactor-related keywords
			const refactorKeywords = [
				"refactor",
				"restructure",
				"reorganize",
				"simplify",
				"clean",
				"improve",
				"optimize",
			]
			const lowerMessage = message.toLowerCase()
			for (const kw of [...bugKeywords, ...featureKeywords, ...refactorKeywords]) {
				if (lowerMessage.includes(kw)) {
					keywords.push(kw)
				}
			}
			// Extract technical terms (camelCase, snake_case, PascalCase identifiers)
			const identifiers = message.match(
				/\b[a-z]+(?:[A-Z][a-z]+)+\b|\b[a-z]+_[a-z_]+\b|\b[A-Z][a-z]+(?:[A-Z][a-z]+)+\b/g,
			)
			if (identifiers) {
				keywords.push(...identifiers.slice(0, 5)) // Limit to 5 identifiers
			}
			return [...new Set(keywords)]
		}
		function isBreakingChange(message) {
			const lowerMessage = message.toLowerCase()
			// Check for conventional commit breaking indicator
			if (message.includes("!:")) return true
			// Check for BREAKING CHANGE in footer
			if (lowerMessage.includes("breaking change")) return true
			if (lowerMessage.includes("breaking:")) return true
			return false
		}
		function extractScope(message) {
			const parsed = parseConventionalCommit(message)
			return parsed?.scope
		}
		function extractPrNumber(message) {
			// Common patterns:
			// (#123)
			// #123
			// PR #123
			// Fixes #123
			const match = message.match(/#(\d+)/)
			return match ? parseInt(match[1], 10) : undefined
		}
		function isRevert(message) {
			const lowerMessage = message.toLowerCase()
			return (
				lowerMessage.startsWith("revert") ||
				lowerMessage.includes("reverts commit") ||
				lowerMessage.includes('revert "')
			)
		}
		function getRevertedSha(message) {
			// Pattern: Revert "..." - This reverts commit <sha>
			const match = message.match(/This reverts commit ([a-f0-9]{7,40})/i)
			if (match) return match[1]
			// Pattern: revert <sha>
			const simpleMatch = message.match(/revert\s+([a-f0-9]{7,40})/i)
			if (simpleMatch) return simpleMatch[1]
			return undefined
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/git/blame.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"blameFile",
			() => blameFile,
			"blameFileRanges",
			() => blameFileRanges,
			"getCommitsForLines",
			() => getCommitsForLines,
			"getUniqueBlameShas",
			() => getUniqueBlameShas,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/execa@9.6.0/node_modules/execa/index.js [app-rsc] (ecmascript) <locals>",
			)
		async function blameFile(filePath, options = {}) {
			const args = ["blame", "--porcelain"]
			if (options.startLine && options.endLine) {
				args.push(`-L${options.startLine},${options.endLine}`)
			}
			if (options.ref) {
				args.push(options.ref)
			}
			args.push("--", filePath)
			try {
				const { stdout } = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$execa$40$9$2e$6$2e$0$2f$node_modules$2f$execa$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__[
					"execa"
				])("git", args, {
					cwd: options.repoPath || process.cwd(),
				})
				return parsePorcelainBlame(stdout)
			} catch {
				// File might not exist at this ref
				return []
			}
		}
		function parsePorcelainBlame(output) {
			const results = []
			const lines = output.split("\n")
			let currentSha = ""
			let currentAuthor = ""
			let currentDate = null
			let currentLineNumber = 0
			for (let i = 0; i < lines.length; i++) {
				const line = lines[i]
				// SHA line: <sha> <orig-line> <final-line> [<count>]
				const shaMatch = line.match(/^([a-f0-9]{40})\s+(\d+)\s+(\d+)/)
				if (shaMatch) {
					currentSha = shaMatch[1]
					currentLineNumber = parseInt(shaMatch[3], 10)
					continue
				}
				// Author line
				if (line.startsWith("author ")) {
					currentAuthor = line.slice(7)
					continue
				}
				// Author time
				if (line.startsWith("author-time ")) {
					const timestamp = parseInt(line.slice(12), 10)
					currentDate = new Date(timestamp * 1000)
					continue
				}
				// Content line (starts with tab)
				if (line.startsWith("\t")) {
					if (currentSha && currentDate) {
						results.push({
							sha: currentSha,
							author: currentAuthor,
							date: currentDate,
							lineNumber: currentLineNumber,
							content: line.slice(1),
						})
					}
				}
			}
			return results
		}
		async function blameFileRanges(filePath, options = {}) {
			const results = await blameFile(filePath, options)
			if (results.length === 0) return []
			// Group consecutive lines by SHA
			const ranges = []
			let currentRange = null
			for (const result of results) {
				if (
					!currentRange ||
					currentRange.sha !== result.sha ||
					currentRange.endLine !== result.lineNumber - 1
				) {
					// Start new range
					if (currentRange) {
						ranges.push(currentRange)
					}
					currentRange = {
						startLine: result.lineNumber,
						endLine: result.lineNumber,
						sha: result.sha,
						author: result.author,
						date: result.date,
					}
				} else {
					// Extend current range
					currentRange.endLine = result.lineNumber
				}
			}
			if (currentRange) {
				ranges.push(currentRange)
			}
			return ranges
		}
		async function getCommitsForLines(filePath, lines, options = {}) {
			if (lines.length === 0) return new Map()
			const minLine = Math.min(...lines)
			const maxLine = Math.max(...lines)
			const blameResults = await blameFile(filePath, {
				startLine: minLine,
				endLine: maxLine,
				...options,
			})
			const lineToSha = new Map()
			const lineSet = new Set(lines)
			for (const result of blameResults) {
				if (lineSet.has(result.lineNumber)) {
					lineToSha.set(result.lineNumber, result.sha)
				}
			}
			return lineToSha
		}
		async function getUniqueBlameShas(filePath, options = {}) {
			const results = await blameFile(filePath, options)
			const shas = new Set(results.map((r) => r.sha))
			// Filter out the "not committed yet" SHA
			shas.delete("0".repeat(40))
			return [...shas]
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/git/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/extractor.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/parser.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$blame$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/blame.ts [app-rsc] (ecmascript)",
			)
	},
	"[project]/Roo-Code/packages/commit-analysis/src/classifiers/conventional.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"classifyByConventionalCommit",
			() => classifyByConventionalCommit,
			"getMessageScope",
			() => getMessageScope,
			"getMessageType",
			() => getMessageType,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/parser.ts [app-rsc] (ecmascript)",
			)
		// Map conventional commit types to categories
		const TYPE_TO_CATEGORY = {
			fix: "bugfix",
			feat: "feature",
			docs: "documentation",
			style: "style",
			refactor: "refactor",
			perf: "performance",
			test: "test",
			build: "build",
			ci: "ci",
			chore: "chore",
			revert: "revert",
		}
		function classifyByConventionalCommit(message) {
			const parsed = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"parseConventionalCommit"
			])(message)
			if (!parsed) {
				return null
			}
			const category = TYPE_TO_CATEGORY[parsed.type] || "unknown"
			const flags = []
			if (parsed.breaking) {
				flags.push("breaking-change")
			}
			if (parsed.scope) {
				flags.push(`scope:${parsed.scope}`)
			}
			// High confidence for well-formed conventional commits
			let confidence = 0.9
			// Reduce confidence if type is not standard
			if (!TYPE_TO_CATEGORY[parsed.type]) {
				confidence = 0.7
			}
			return {
				category,
				confidence,
				flags,
				riskScore: 0,
			}
		}
		function getMessageType(message) {
			const parsed = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"parseConventionalCommit"
			])(message)
			return parsed?.type || null
		}
		function getMessageScope(message) {
			const parsed = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"parseConventionalCommit"
			])(message)
			return parsed?.scope || null
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/classifiers/semantic.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"classifyBySemantic",
			() => classifyBySemantic,
			"extractSemanticKeywords",
			() => extractSemanticKeywords,
		])
		const SEMANTIC_PATTERNS = [
			// Bug fix patterns (high weight)
			{
				keywords: ["fix", "bug", "issue", "error", "crash", "broken", "regression", "hotfix"],
				category: "bugfix",
				weight: 0.9,
			},
			{
				keywords: ["correct", "resolve", "repair", "patch", "wrong", "incorrect", "missing"],
				category: "bugfix",
				weight: 0.7,
			},
			// Feature patterns
			{
				keywords: ["add", "new", "feature", "implement", "introduce", "support", "enable"],
				category: "feature",
				weight: 0.8,
			},
			{
				keywords: ["create", "allow", "provide", "extend"],
				category: "feature",
				weight: 0.6,
			},
			// Refactor patterns
			{
				keywords: ["refactor", "restructure", "reorganize", "simplify", "clean"],
				category: "refactor",
				weight: 0.85,
			},
			{
				keywords: ["rename", "move", "extract", "inline", "split", "merge"],
				category: "refactor",
				weight: 0.7,
			},
			// Performance patterns
			{
				keywords: ["perf", "performance", "optimize", "speed", "fast", "slow", "cache"],
				category: "performance",
				weight: 0.85,
			},
			{
				keywords: ["memory", "cpu", "efficient", "reduce", "improve performance"],
				category: "performance",
				weight: 0.7,
			},
			// Documentation patterns
			{
				keywords: ["doc", "docs", "documentation", "readme", "comment", "jsdoc", "tsdoc"],
				category: "documentation",
				weight: 0.9,
			},
			// Test patterns
			{
				keywords: ["test", "tests", "spec", "specs", "coverage", "unit test", "e2e"],
				category: "test",
				weight: 0.9,
			},
			// Build patterns
			{
				keywords: ["build", "webpack", "vite", "esbuild", "bundle", "compile"],
				category: "build",
				weight: 0.85,
			},
			{
				keywords: ["dependency", "dependencies", "package", "npm", "pnpm", "yarn"],
				category: "build",
				weight: 0.7,
			},
			// CI patterns
			{
				keywords: ["ci", "cd", "pipeline", "workflow", "github actions", "jenkins"],
				category: "ci",
				weight: 0.9,
			},
			// Style patterns
			{
				keywords: ["style", "format", "lint", "prettier", "eslint", "whitespace"],
				category: "style",
				weight: 0.85,
			},
			// Revert patterns
			{
				keywords: ["revert", "rollback", "undo"],
				category: "revert",
				weight: 0.95,
			},
			// Chore patterns
			{
				keywords: ["chore", "misc", "cleanup", "housekeeping", "maintenance"],
				category: "chore",
				weight: 0.8,
			},
			{
				keywords: ["update", "upgrade", "bump", "version"],
				category: "chore",
				weight: 0.5,
			},
		]
		function classifyBySemantic(message) {
			const lowerMessage = message.toLowerCase()
			const scores = {}
			// Calculate scores for each category
			for (const pattern of SEMANTIC_PATTERNS) {
				for (const keyword of pattern.keywords) {
					if (lowerMessage.includes(keyword)) {
						const currentScore = scores[pattern.category] || 0
						scores[pattern.category] = Math.max(currentScore, pattern.weight)
					}
				}
			}
			// Find the highest scoring category
			let bestCategory = "unknown"
			let bestScore = 0
			for (const [category, score] of Object.entries(scores)) {
				if (score > bestScore) {
					bestScore = score
					bestCategory = category
				}
			}
			// Extract matched keywords as flags
			const flags = []
			for (const pattern of SEMANTIC_PATTERNS) {
				if (pattern.category === bestCategory) {
					for (const keyword of pattern.keywords) {
						if (lowerMessage.includes(keyword)) {
							flags.push(`keyword:${keyword}`)
						}
					}
				}
			}
			// Confidence is based on the score and number of matching keywords
			const confidence = bestScore * Math.min(1, 0.5 + flags.length * 0.1)
			return {
				category: bestCategory,
				confidence: Math.min(confidence, 0.85),
				flags: flags.slice(0, 5),
				riskScore: 0,
			}
		}
		function extractSemanticKeywords(message) {
			const lowerMessage = message.toLowerCase()
			const keywords = []
			for (const pattern of SEMANTIC_PATTERNS) {
				for (const keyword of pattern.keywords) {
					if (lowerMessage.includes(keyword)) {
						keywords.push(keyword)
					}
				}
			}
			return [...new Set(keywords)]
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/classifiers/subsystem.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"detectSubsystem",
			() => detectSubsystem,
			"detectSubsystems",
			() => detectSubsystems,
			"getPrimarySubsystem",
			() => getPrimarySubsystem,
			"getSubsystemsAffected",
			() => getSubsystemsAffected,
			"hasTestFiles",
			() => hasTestFiles,
			"touchesCriticalPath",
			() => touchesCriticalPath,
		])
		const SUBSYSTEM_PATTERNS = [
			// Provider patterns (API integrations)
			{
				patterns: [
					/src\/api\/providers?\//i,
					/providers?\/.*\.(ts|js)$/i,
					/anthropic|openai|gemini|bedrock|vertex|ollama|azure|openrouter/i,
					/src\/core\/.*provider/i,
				],
				subsystem: "provider",
			},
			// Tool patterns (MCP, tool execution)
			{
				patterns: [
					/src\/services\/mcp/i,
					/tools?\//i,
					/tool[-_]?(use|call|result|block)/i,
					/mcp[-_]?(server|client|tool)/i,
					/execute[-_]?tool/i,
				],
				subsystem: "tool",
			},
			// UI patterns
			{
				patterns: [
					/webview[-_]?ui\//i,
					/src\/webviews?\//i,
					/components?\//i,
					/\.tsx$/i,
					/\.css$/i,
					/\.scss$/i,
					/styles?\//i,
				],
				subsystem: "ui",
			},
			// API patterns (extension API, handlers)
			{
				patterns: [/src\/api\//i, /handlers?\//i, /api[-_]?client/i, /routes?\//i],
				subsystem: "api",
			},
			// Core patterns (main logic)
			{
				patterns: [/src\/core\//i, /src\/services?\//i, /src\/agent\//i, /roo\.ts$/i, /cline\.ts$/i],
				subsystem: "core",
			},
			// Test patterns
			{
				patterns: [
					/\.test\.(ts|js|tsx|jsx)$/i,
					/\.spec\.(ts|js|tsx|jsx)$/i,
					/__tests__\//i,
					/test\//i,
					/tests\//i,
				],
				subsystem: "test",
			},
			// Build patterns
			{
				patterns: [
					/package\.json$/i,
					/tsconfig.*\.json$/i,
					/webpack/i,
					/vite/i,
					/esbuild/i,
					/rollup/i,
					/turbo\.json$/i,
					/pnpm-workspace/i,
				],
				subsystem: "build",
			},
			// Documentation patterns
			{
				patterns: [/\.md$/i, /readme/i, /changelog/i, /docs?\//i, /documentation\//i],
				subsystem: "docs",
			},
			// Config patterns
			{
				patterns: [
					/\.config\.(ts|js|mjs|cjs)$/i,
					/eslint/i,
					/prettier/i,
					/\.env/i,
					/\.gitignore$/i,
					/settings\.json$/i,
				],
				subsystem: "config",
			},
		]
		function detectSubsystem(filePath) {
			for (const { patterns, subsystem } of SUBSYSTEM_PATTERNS) {
				for (const pattern of patterns) {
					if (pattern.test(filePath)) {
						return subsystem
					}
				}
			}
			return "unknown"
		}
		function detectSubsystems(filePaths) {
			const counts = new Map()
			for (const filePath of filePaths) {
				const subsystem = detectSubsystem(filePath)
				counts.set(subsystem, (counts.get(subsystem) || 0) + 1)
			}
			return counts
		}
		function getPrimarySubsystem(filePaths) {
			const counts = detectSubsystems(filePaths)
			let maxCount = 0
			let primary = "unknown"
			for (const [subsystem, count] of counts) {
				if (count > maxCount) {
					maxCount = count
					primary = subsystem
				}
			}
			return primary
		}
		function getSubsystemsAffected(filePaths) {
			const subsystems = new Set()
			for (const filePath of filePaths) {
				subsystems.add(detectSubsystem(filePath))
			}
			return [...subsystems].filter((s) => s !== "unknown")
		}
		// Critical paths that indicate higher risk
		const CRITICAL_PATHS = [
			/src\/core\/.*\.(ts|js)$/i,
			/src\/api\/providers?\//i,
			/src\/services\/mcp/i,
			/src\/agent\//i,
			/package\.json$/i,
		]
		function touchesCriticalPath(filePaths) {
			for (const filePath of filePaths) {
				for (const pattern of CRITICAL_PATHS) {
					if (pattern.test(filePath)) {
						return true
					}
				}
			}
			return false
		}
		function hasTestFiles(filePaths) {
			return filePaths.some(
				(fp) =>
					fp.includes(".test.") ||
					fp.includes(".spec.") ||
					fp.includes("__tests__") ||
					fp.includes("/test/") ||
					fp.includes("/tests/"),
			)
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/classifiers/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$conventional$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/conventional.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$semantic$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/semantic.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$subsystem$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/subsystem.ts [app-rsc] (ecmascript)",
			)
	},
	"[project]/Roo-Code/packages/commit-analysis/src/causality/blame-method.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s(["analyzeByBlame", () => analyzeByBlame])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$blame$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/blame.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/extractor.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/commits.ts [app-rsc] (ecmascript)",
			)
		async function analyzeByBlame(bugFix, maxAgeDays, repoPath) {
			const results = []
			const db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])()
			// Get file changes for this bug fix
			const fileChanges = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"extractFileChanges"
			])(bugFix.sha, repoPath)
			if (fileChanges.length === 0) {
				return results
			}
			// Get the parent commit SHA to blame against
			const parentRef = `${bugFix.sha}^`
			// Collect all commits that touched the fixed files
			const blameShas = new Set()
			for (const change of fileChanges) {
				// Skip deleted files (can't blame them)
				if (change.changeType === "D") continue
				// Skip new files (nothing to blame)
				if (change.changeType === "A") continue
				try {
					const shas = await (0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$blame$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"getUniqueBlameShas"
					])(change.filePath, {
						ref: parentRef,
						repoPath,
					})
					for (const sha of shas) {
						// Skip the bug fix commit itself
						if (sha !== bugFix.sha) {
							blameShas.add(sha)
						}
					}
				} catch {
					continue
				}
			}
			// Score each blamed commit
			const cutoffDate = new Date(bugFix.date.getTime() - maxAgeDays * 24 * 60 * 60 * 1000)
			for (const sha of blameShas) {
				const causeCommit = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getCommit"
				])(sha, db)
				if (!causeCommit) continue
				// Skip commits outside our time window
				if (causeCommit.date < cutoffDate) continue
				// Calculate confidence based on various factors
				let confidence = 0.6 // Base confidence for blame
				// Higher confidence if same author
				if (causeCommit.authorEmail === bugFix.authorEmail) {
					confidence += 0.1
				}
				// Higher confidence if recent commit
				const ageInDays = (bugFix.date.getTime() - causeCommit.date.getTime()) / (24 * 60 * 60 * 1000)
				if (ageInDays < 7) {
					confidence += 0.15
				} else if (ageInDays < 30) {
					confidence += 0.05
				}
				// Calculate bug age
				const bugAge = Math.floor(ageInDays)
				results.push({
					causeSha: sha,
					relationshipType: confidence >= 0.7 ? "root_cause" : "related_to",
					confidence: Math.min(confidence, 0.85),
					bugAge,
					analysisMethod: "blame",
					notes: `Blamed commit touched ${fileChanges.length} file(s)`,
				})
			}
			// Sort by confidence and return top results
			return results.sort((a, b) => b.confidence - a.confidence).slice(0, 5)
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/causality/semantic-method.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s(["analyzeBySemantic", () => analyzeBySemantic])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/select.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/parser.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$semantic$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/semantic.ts [app-rsc] (ecmascript)",
			)
		async function analyzeBySemantic(bugFix, maxAgeDays) {
			const results = []
			const db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])()
			// Extract keywords from the bug fix message
			const fixKeywords = new Set([
				...(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"extractKeywords"
				])(bugFix.message),
				...(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$semantic$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"extractSemanticKeywords"
				])(bugFix.message),
			])
			if (fixKeywords.size === 0) {
				return results
			}
			// Get recent commits within the time window
			const cutoffDate = new Date(bugFix.date.getTime() - maxAgeDays * 24 * 60 * 60 * 1000)
			const recentCommits = await db.query.commits.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"and"
				])(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"lt"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].date,
						bugFix.date,
					),
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"gt"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"commits"
						].date,
						cutoffDate,
					),
				),
				orderBy: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"desc"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"commits"
					].date,
				),
				limit: 200,
				with: {
					fileChanges: true,
				},
			})
			for (const candidate of recentCommits) {
				// Skip the same commit
				if (candidate.sha === bugFix.sha) continue
				// Extract keywords from candidate
				const candidateKeywords = new Set([
					...(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"extractKeywords"
					])(candidate.message),
					...(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$semantic$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"extractSemanticKeywords"
					])(candidate.message),
				])
				// Calculate keyword overlap
				const intersection = new Set([...fixKeywords].filter((k) => candidateKeywords.has(k)))
				const union = new Set([...fixKeywords, ...candidateKeywords])
				if (intersection.size === 0) continue
				// Jaccard similarity
				const similarity = intersection.size / union.size
				// Check subsystem overlap
				let subsystemMatch = false
				if (candidate.fileChanges && candidate.fileChanges.length > 0) {
					const candidateSubsystems = new Set(candidate.fileChanges.map((fc) => fc.subsystem))
					// Get fix subsystem from scope if available
					if (bugFix.messageScope && candidateSubsystems.has(bugFix.messageScope)) {
						subsystemMatch = true
					}
				}
				// Calculate confidence
				let confidence = similarity * 0.5 // Base from keyword similarity
				if (subsystemMatch) {
					confidence += 0.15
				}
				// Boost for same scope
				if (bugFix.messageScope && candidate.messageScope === bugFix.messageScope) {
					confidence += 0.1
				}
				// Only include if confidence is meaningful
				if (confidence < 0.3) continue
				const ageInDays = (bugFix.date.getTime() - candidate.date.getTime()) / (24 * 60 * 60 * 1000)
				results.push({
					causeSha: candidate.sha,
					relationshipType: "related_to",
					confidence: Math.min(confidence, 0.65),
					bugAge: Math.floor(ageInDays),
					analysisMethod: "semantic",
					notes: `Matched keywords: ${[...intersection].slice(0, 5).join(", ")}`,
				})
			}
			return results.sort((a, b) => b.confidence - a.confidence).slice(0, 5)
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/causality/temporal-method.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s(["analyzeByTemporal", () => analyzeByTemporal])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/schema.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/drizzle-orm@0.44.1_@libsql+client@0.15.8_@opentelemetry+api@1.9.0_@types+better-sqlite3_3a1511ed213e44aa6181ffba60c53490/node_modules/drizzle-orm/sql/expressions/conditions.js [app-rsc] (ecmascript)",
			)
		// Time windows for temporal analysis
		const TIME_WINDOWS = {
			immediate: 24,
			recent: 72,
			moderate: 168,
		}
		async function analyzeByTemporal(bugFix, maxAgeDays) {
			const results = []
			const db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])()
			// Get files changed in the bug fix
			const fixFileChanges = await db.query.fileChanges.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"eq"
				])(
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"fileChanges"
					].commitSha,
					bugFix.sha,
				),
			})
			if (fixFileChanges.length === 0) {
				return results
			}
			const fixFilePaths = fixFileChanges.map((fc) => fc.filePath)
			// Look for commits that touched the same files within the time window
			const cutoffDate = new Date(bugFix.date.getTime() - maxAgeDays * 24 * 60 * 60 * 1000)
			// Find commits that touched the same files
			const relatedFileChanges = await db.query.fileChanges.findMany({
				where: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"and"
				])(
					(0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$1_$40$libsql$2b$client$40$0$2e$15$2e$8_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$better$2d$sqlite3_3a1511ed213e44aa6181ffba60c53490$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"inArray"
					])(
						__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$schema$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
							"fileChanges"
						].filePath,
						fixFilePaths,
					),
				),
				with: {
					commit: true,
				},
			})
			// Group by commit
			const commitMap = new Map()
			for (const fc of relatedFileChanges) {
				if (!fc.commit) continue
				if (fc.commit.sha === bugFix.sha) continue
				if (fc.commit.date >= bugFix.date) continue
				if (fc.commit.date < cutoffDate) continue
				const existing = commitMap.get(fc.commit.sha)
				if (existing) {
					existing.fileOverlap++
				} else {
					commitMap.set(fc.commit.sha, {
						commit: fc.commit,
						fileOverlap: 1,
					})
				}
			}
			for (const [sha, { commit, fileOverlap }] of commitMap) {
				const ageInHours = (bugFix.date.getTime() - commit.date.getTime()) / (60 * 60 * 1000)
				const ageInDays = ageInHours / 24
				// Calculate confidence based on temporal proximity
				let confidence = 0.3 // Base confidence
				if (ageInHours <= TIME_WINDOWS.immediate) {
					confidence += 0.25
				} else if (ageInHours <= TIME_WINDOWS.recent) {
					confidence += 0.15
				} else if (ageInHours <= TIME_WINDOWS.moderate) {
					confidence += 0.05
				}
				// Boost for file overlap
				const overlapRatio = fileOverlap / fixFilePaths.length
				confidence += overlapRatio * 0.2
				// Boost for same author (might be fixing own bug)
				if (commit.authorEmail === bugFix.authorEmail) {
					confidence += 0.1
				}
				// Skip low confidence results
				if (confidence < 0.35) continue
				results.push({
					causeSha: sha,
					relationshipType: "related_to",
					confidence: Math.min(confidence, 0.55),
					bugAge: Math.floor(ageInDays),
					analysisMethod: "temporal",
					notes: `${fileOverlap} file(s) overlap, ${Math.floor(ageInHours)}h before fix`,
				})
			}
			return results.sort((a, b) => b.confidence - a.confidence).slice(0, 5)
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/causality/analyzer.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s(["analyzeBugCausality", () => analyzeBugCausality])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$blame$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/blame-method.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$semantic$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/semantic-method.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$temporal$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/temporal-method.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/parser.ts [app-rsc] (ecmascript)",
			)
		const DEFAULT_CONFIG = {
			batchSize: 50,
			concurrency: 4,
			methods: ["explicit", "blame", "semantic", "temporal"],
			maxAgeDays: 90,
		}
		async function analyzeBugCausality(bugFix, options = {}, repoPath) {
			const config = {
				...DEFAULT_CONFIG,
				...options,
			}
			const results = []
			// 1. Check for explicit references (highest confidence)
			if (config.methods.includes("explicit")) {
				const explicitResult = await analyzeExplicitReferences(bugFix)
				if (explicitResult) {
					results.push(explicitResult)
				}
			}
			// 2. Blame-based analysis
			if (config.methods.includes("blame")) {
				const blameResults = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$blame$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"analyzeByBlame"
				])(bugFix, config.maxAgeDays, repoPath)
				results.push(...blameResults)
			}
			// 3. Semantic similarity analysis
			if (config.methods.includes("semantic")) {
				const semanticResults = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$semantic$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"analyzeBySemantic"
				])(bugFix, config.maxAgeDays)
				results.push(...semanticResults)
			}
			// 4. Temporal proximity analysis
			if (config.methods.includes("temporal")) {
				const temporalResults = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$temporal$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"analyzeByTemporal"
				])(bugFix, config.maxAgeDays)
				results.push(...temporalResults)
			}
			// Deduplicate and merge results
			return mergeResults(results)
		}
		async function analyzeExplicitReferences(bugFix) {
			const message = bugFix.message
			// Check if this is a revert
			if (
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"isRevert"
				])(message)
			) {
				const revertedSha = (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getRevertedSha"
				])(message)
				if (revertedSha) {
					return {
						causeSha: revertedSha,
						relationshipType: "root_cause",
						confidence: 0.95,
						analysisMethod: "explicit",
						notes: "Revert commit",
					}
				}
			}
			// Check for "introduced in", "caused by" patterns
			const patterns = [
				/introduced\s+in\s+([a-f0-9]{7,40})/i,
				/caused\s+by\s+([a-f0-9]{7,40})/i,
				/regression\s+from\s+([a-f0-9]{7,40})/i,
				/broke\s+in\s+([a-f0-9]{7,40})/i,
				/broken\s+by\s+([a-f0-9]{7,40})/i,
			]
			for (const pattern of patterns) {
				const match = message.match(pattern)
				if (match) {
					return {
						causeSha: match[1],
						relationshipType: "root_cause",
						confidence: 0.95,
						analysisMethod: "explicit",
						notes: `Matched pattern: ${pattern.source}`,
					}
				}
			}
			// Check for "fixes #<issue>" that references another PR
			// This would require GitHub API access, so we skip for now
			return null
		}
		function mergeResults(results) {
			const byCommit = new Map()
			for (const result of results) {
				const existing = byCommit.get(result.causeSha)
				if (!existing) {
					byCommit.set(result.causeSha, result)
				} else {
					// Merge: keep highest confidence, prefer root_cause over related_to
					const merged = {
						causeSha: result.causeSha,
						relationshipType:
							existing.relationshipType === "root_cause" || result.relationshipType === "root_cause"
								? "root_cause"
								: "related_to",
						confidence: Math.max(existing.confidence, result.confidence),
						bugAge: existing.bugAge ?? result.bugAge,
						bugAgeCommits: existing.bugAgeCommits ?? result.bugAgeCommits,
						analysisMethod: `${existing.analysisMethod},${result.analysisMethod}`,
						notes: [existing.notes, result.notes].filter(Boolean).join("; "),
					}
					byCommit.set(result.causeSha, merged)
				}
			}
			// Sort by confidence descending
			return Array.from(byCommit.values()).sort((a, b) => b.confidence - a.confidence)
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/causality/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$analyzer$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/analyzer.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$blame$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/blame-method.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$semantic$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/semantic-method.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$temporal$2d$method$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/temporal-method.ts [app-rsc] (ecmascript)",
			)
	},
	"[project]/Roo-Code/packages/commit-analysis/src/detection/regression.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"calculatePatternSimilarity",
			() => calculatePatternSimilarity,
			"detectRegression",
			() => detectRegression,
			"extractPatternSignature",
			() => extractPatternSignature,
			"findMatchingPattern",
			() => findMatchingPattern,
			"getRecurringRegressions",
			() => getRecurringRegressions,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/patterns.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/parser.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$semantic$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/semantic.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$subsystem$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/subsystem.ts [app-rsc] (ecmascript)",
			)
		// Minimum similarity threshold to consider a match
		const SIMILARITY_THRESHOLD = 0.4
		function extractPatternSignature(commit, filePaths) {
			const keywords = [
				...(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"extractKeywords"
				])(commit.message),
				...(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$semantic$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"extractSemanticKeywords"
				])(commit.message),
			].slice(0, 10)
			const subsystem = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$subsystem$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getPrimarySubsystem"
			])(filePaths)
			// Extract file patterns (directories)
			const filePatterns = new Set()
			for (const filePath of filePaths) {
				const parts = filePath.split("/")
				if (parts.length >= 2) {
					filePatterns.add(`${parts[0]}/${parts[1]}/*`)
				}
			}
			return {
				subsystem,
				keywords,
				filePatterns: [...filePatterns].slice(0, 5),
			}
		}
		function calculatePatternSimilarity(sig1, sig2) {
			// Must be same subsystem for a match
			if (sig1.subsystem !== sig2.subsystem || sig1.subsystem === "unknown") {
				return null
			}
			// Calculate Jaccard similarity for keywords
			const kw1 = new Set(sig1.keywords.map((k) => k.toLowerCase()))
			const kw2 = new Set(sig2.keywords.map((k) => k.toLowerCase()))
			const intersection = new Set([...kw1].filter((k) => kw2.has(k)))
			const union = new Set([...kw1, ...kw2])
			if (intersection.size === 0 || union.size === 0) {
				return null
			}
			const keywordSimilarity = intersection.size / union.size
			// Calculate file pattern similarity
			const fp1 = new Set(sig1.filePatterns)
			const fp2 = new Set(sig2.filePatterns)
			const fpIntersection = new Set([...fp1].filter((f) => fp2.has(f)))
			const fpUnion = new Set([...fp1, ...fp2])
			const fileSimilarity = fpUnion.size > 0 ? fpIntersection.size / fpUnion.size : 0
			// Combined similarity (weighted)
			const similarity = keywordSimilarity * 0.7 + fileSimilarity * 0.3
			if (similarity < SIMILARITY_THRESHOLD) {
				return null
			}
			return {
				patternHash: (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"generatePatternHash"
				])(sig1.subsystem, [...intersection]),
				similarity,
				matchedKeywords: [...intersection],
			}
		}
		async function findMatchingPattern(signature) {
			const db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])()
			// Get existing patterns for the same subsystem
			const patterns = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getRegressionPatterns"
			])({
				subsystem: signature.subsystem,
				status: "active",
			})
			let bestMatch = null
			let bestSimilarity = 0
			for (const pattern of patterns) {
				const patternSig = {
					subsystem: pattern.subsystem,
					keywords: pattern.keywords || [],
					filePatterns: pattern.filePatterns || [],
				}
				const match = calculatePatternSimilarity(signature, patternSig)
				if (match && match.similarity > bestSimilarity) {
					bestMatch = {
						patternHash: pattern.patternHash,
						similarity: match.similarity,
						matchedKeywords: match.matchedKeywords,
					}
					bestSimilarity = match.similarity
				}
			}
			return bestMatch
		}
		async function detectRegression(commit, filePaths) {
			const db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])()
			// Only bug fixes can be regressions
			if (commit.messageType !== "fix") {
				return {
					isRegression: false,
				}
			}
			const signature = extractPatternSignature(commit, filePaths)
			// Skip if subsystem is unknown
			if (signature.subsystem === "unknown" || signature.keywords.length === 0) {
				return {
					isRegression: false,
				}
			}
			// Look for matching pattern
			const match = await findMatchingPattern(signature)
			if (match && match.similarity >= SIMILARITY_THRESHOLD) {
				// Add this commit to the existing pattern
				await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"addCommitToPattern"
				])(match.patternHash, commit.sha)
				return {
					isRegression: true,
					patternHash: match.patternHash,
					isNew: false,
				}
			}
			// Check if we should create a new pattern
			// Only create patterns for commits with meaningful keywords
			if (signature.keywords.length >= 2) {
				const patternHash = (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"generatePatternHash"
				])(signature.subsystem, signature.keywords)
				// Check if pattern already exists
				const existing = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getRegressionPatternByHash"
				])(patternHash)
				if (existing) {
					await (0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"addCommitToPattern"
					])(patternHash, commit.sha)
					return {
						isRegression: existing.occurrenceCount >= 2,
						patternHash,
						isNew: false,
					}
				}
				// Create new pattern (not a regression yet until we see it again)
				await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"createRegressionPattern"
				])({
					patternHash,
					subsystem: signature.subsystem,
					keywords: signature.keywords,
					filePatterns: signature.filePatterns,
					firstOccurrence: commit.sha,
					occurrenceCount: 1,
					commitShas: [commit.sha],
					severity: "low",
					status: "active",
				})
				return {
					isRegression: false,
					patternHash,
					isNew: true,
				}
			}
			return {
				isRegression: false,
			}
		}
		async function getRecurringRegressions(minOccurrences = 2) {
			return (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$patterns$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getRegressionPatterns"
			])({
				minOccurrences,
				status: "active",
			})
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/detection/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$detection$2f$regression$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/detection/regression.ts [app-rsc] (ecmascript)",
			)
	},
	"[project]/Roo-Code/packages/commit-analysis/src/scoring/risk.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"aggregateRisk",
			() => aggregateRisk,
			"calculateRiskScore",
			() => calculateRiskScore,
			"getRiskColor",
			() => getRiskColor,
			"getRiskLevel",
			() => getRiskLevel,
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$subsystem$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/subsystem.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/parser.ts [app-rsc] (ecmascript)",
			)
		// Weight factors for risk calculation
		const RISK_WEIGHTS = {
			filesChanged: 2,
			linesChanged: 0.1,
			subsystemsAffected: 10,
			breakingChange: 25,
			criticalPath: 15,
			noTests: 10,
			lowAuthorExperience: 5,
			recentRegressions: 8,
		}
		const CAPS = {
			filesChanged: 20,
			linesChanged: 500,
			subsystemsAffected: 5,
			recentRegressions: 3,
		}
		// Category base risk scores
		const CATEGORY_BASE_RISK = {
			bugfix: 20,
			feature: 30,
			refactor: 25,
			performance: 20,
			revert: 15,
			documentation: 5,
			test: 5,
			build: 15,
			ci: 10,
			style: 5,
			chore: 10,
			unknown: 20,
		}
		function calculateRiskScore(
			category,
			message,
			filePaths,
			insertions,
			deletions,
			authorCommitsInArea = 0,
			recentRegressions = 0,
		) {
			const factors = {}
			// Base score from category
			const baseScore = CATEGORY_BASE_RISK[category] || CATEGORY_BASE_RISK.unknown
			factors.category = baseScore
			// Files changed factor
			const filesChangedFactor = Math.min(filePaths.length, CAPS.filesChanged) * RISK_WEIGHTS.filesChanged
			factors.filesChanged = filesChangedFactor
			// Lines changed factor
			const linesChanged = insertions + deletions
			const linesChangedFactor = Math.min(linesChanged, CAPS.linesChanged) * RISK_WEIGHTS.linesChanged
			factors.linesChanged = linesChangedFactor
			// Subsystems affected factor
			const subsystems = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$subsystem$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getSubsystemsAffected"
			])(filePaths)
			const subsystemsFactor =
				Math.min(subsystems.length, CAPS.subsystemsAffected) * RISK_WEIGHTS.subsystemsAffected
			factors.subsystemsAffected = subsystemsFactor
			// Breaking change factor
			if (
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$parser$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"isBreakingChange"
				])(message)
			) {
				factors.breakingChange = RISK_WEIGHTS.breakingChange
			}
			// Critical path factor
			if (
				(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$subsystem$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"touchesCriticalPath"
				])(filePaths)
			) {
				factors.criticalPath = RISK_WEIGHTS.criticalPath
			}
			// Test coverage factor (penalty for no tests)
			if (
				!(0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$subsystem$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"hasTestFiles"
				])(filePaths) &&
				filePaths.length > 2 &&
				category !== "documentation"
			) {
				factors.noTests = RISK_WEIGHTS.noTests
			}
			// Author experience factor
			if (authorCommitsInArea < 5) {
				factors.lowAuthorExperience = RISK_WEIGHTS.lowAuthorExperience
			}
			// Recent regressions factor
			if (recentRegressions > 0) {
				const regressionFactor =
					Math.min(recentRegressions, CAPS.recentRegressions) * RISK_WEIGHTS.recentRegressions
				factors.recentRegressions = regressionFactor
			}
			// Calculate final score
			const totalFactors = Object.values(factors).reduce((sum, val) => sum + val, 0)
			// Normalize to 0-100 range
			const finalScore = Math.min(100, Math.max(0, totalFactors))
			return {
				baseScore,
				factors,
				finalScore,
			}
		}
		function getRiskLevel(score) {
			if (score < 25) return "low"
			if (score < 50) return "medium"
			if (score < 75) return "high"
			return "critical"
		}
		function getRiskColor(score) {
			if (score < 25) return "green"
			if (score < 50) return "yellow"
			if (score < 75) return "orange"
			return "red"
		}
		function aggregateRisk(scores) {
			if (scores.length === 0) return 0
			// Use weighted average with emphasis on higher risks
			const sortedScores = [...scores].sort((a, b) => b - a)
			let totalWeight = 0
			let weightedSum = 0
			for (let i = 0; i < sortedScores.length; i++) {
				// Higher weight for higher risk scores
				const weight = Math.pow(0.8, i) // Exponential decay
				weightedSum += sortedScores[i] * weight
				totalWeight += weight
			}
			return weightedSum / totalWeight
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/scoring/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$scoring$2f$risk$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/scoring/risk.ts [app-rsc] (ecmascript)",
			)
	},
	"[project]/Roo-Code/packages/commit-analysis/src/sync/advisor.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s(["analyzeSyncRange", () => analyzeSyncRange, "getSyncSummary", () => getSyncSummary])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/db/db.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/commits.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$classifications$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/classifications.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/extractor.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$scoring$2f$risk$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/scoring/risk.ts [app-rsc] (ecmascript)",
			)
		async function analyzeSyncRange(options) {
			const db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])()
			// Resolve refs to SHAs
			const upstreamSha = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"resolveRef"
			])(options.upstream, options.repoPath)
			const localSha = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"resolveRef"
			])(options.local, options.repoPath)
			// Get commits between local and upstream
			const commitShas = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getCommitsBetween"
			])(localSha, upstreamSha, options.repoPath)
			if (commitShas.length === 0) {
				return {
					recommendedCommit: upstreamSha,
					totalRisk: 0,
					commitCount: 0,
					breakdown: {
						features: 0,
						fixes: 0,
						other: 0,
					},
					warnings: [],
					safeToSync: true,
				}
			}
			// Get classifications for these commits
			const classifications = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$classifications$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getClassificationsByCommits"
			])(commitShas, db)
			const classificationMap = new Map(classifications.map((c) => [c.commitSha, c]))
			// Get commit details
			const commitDetails = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getCommits"
			])({}, db)
			const commitMap = new Map(commitDetails.map((c) => [c.sha, c]))
			// Analyze commits
			const riskScores = []
			let features = 0
			let fixes = 0
			let other = 0
			const warnings = []
			for (const sha of commitShas) {
				const commit = commitMap.get(sha)
				const classification = classificationMap.get(sha)
				if (!commit) continue
				const riskScore = classification?.riskScore ?? 25 // Default moderate risk for unanalyzed
				riskScores.push(riskScore)
				// Count by type
				if (commit.messageType === "feat") features++
				else if (commit.messageType === "fix") fixes++
				else other++
				// Check for high-risk commits
				if (riskScore >= 70) {
					warnings.push(`High risk: ${commit.shortSha} - ${commit.message.slice(0, 50)}`)
				}
			}
			const totalRisk = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$scoring$2f$risk$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"aggregateRisk"
			])(riskScores)
			const safeToSync = totalRisk <= options.maxRisk
			// Find recommended sync point if not safe
			let recommendedCommit = upstreamSha
			if (!safeToSync) {
				// Find the latest commit where cumulative risk is acceptable
				let cumulativeRisk = 0
				const riskScoresReversed = [...riskScores].reverse()
				const commitsReversed = [...commitShas].reverse()
				for (let i = 0; i < commitsReversed.length; i++) {
					const newRisk = (0,
					__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$scoring$2f$risk$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
						"aggregateRisk"
					])([...riskScoresReversed.slice(0, i + 1)])
					if (newRisk > options.maxRisk) {
						if (i > 0) {
							recommendedCommit = commitsReversed[i - 1]
						}
						break
					}
				}
				warnings.unshift(`Total risk (${totalRisk.toFixed(1)}) exceeds threshold (${options.maxRisk})`)
			}
			return {
				recommendedCommit,
				totalRisk,
				commitCount: commitShas.length,
				breakdown: {
					features,
					fixes,
					other,
				},
				warnings,
				safeToSync,
			}
		}
		async function getSyncSummary(upstream, local, repoPath) {
			const db = (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$db$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getDb"
			])()
			// Get commits we're behind
			const upstreamSha = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"resolveRef"
			])(upstream, repoPath)
			const localSha = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"resolveRef"
			])(local, repoPath)
			const behind = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getCommitsBetween"
			])(localSha, upstreamSha, repoPath)
			// Get commits we're ahead (local changes not in upstream)
			let ahead = []
			try {
				ahead = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$extractor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getCommitsBetween"
				])(upstreamSha, localSha, repoPath)
			} catch {
				// Might fail if local is behind upstream
			}
			// Get the date of the local commit
			const localCommit = await (0,
			__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
				"getCommits"
			])(
				{
					limit: 1,
				},
				db,
			)
			const lastSyncDate = localCommit[0]?.date
			return {
				behind: behind.length,
				ahead: ahead.length,
				lastSyncDate,
			}
		}
	},
	"[project]/Roo-Code/packages/commit-analysis/src/sync/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$sync$2f$advisor$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/sync/advisor.ts [app-rsc] (ecmascript)",
			)
	},
	"[project]/Roo-Code/packages/commit-analysis/src/index.ts [app-rsc] (ecmascript) <locals>",
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		// Main package exports
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/index.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$types$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i("[project]/Roo-Code/packages/commit-analysis/src/types.ts [app-rsc] (ecmascript)")
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$git$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/git/index.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$classifiers$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/classifiers/index.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$causality$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/causality/index.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$detection$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/detection/index.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$scoring$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/scoring/index.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$sync$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/sync/index.ts [app-rsc] (ecmascript) <locals>",
			)
	},
	"[project]/Roo-Code/apps/web-commit-analysis/src/actions/timeline.ts [app-rsc] (ecmascript)",
	(__turbopack_context__) => {
		"use strict"

		/* __next_internal_action_entry_do_not_use__ [{"008206b6ad99d6bae606bf10310876c9597b8f1515":"getTimelineData","00ff52ab13a516834e168e95da9643206e1b50e5b1":"getDashboardStats","404c2ee49666f6ffedaa184592eca2e1d4e7e87c79":"getCommitDetails","40d6263b15d180508a8204e6199dbfc869813adb66":"getHighRiskCommits"},"",""] */ __turbopack_context__.s(
			[
				"getCommitDetails",
				() => getCommitDetails,
				"getDashboardStats",
				() => getDashboardStats,
				"getHighRiskCommits",
				() => getHighRiskCommits,
				"getTimelineData",
				() => getTimelineData,
			],
		)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$1$2e$6_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_babel$2d$plugin$2d$react$2d$compiler$40$1$2e$0$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/next@16.1.6_@opentelemetry+api@1.9.0_babel-plugin-react-compiler@1.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$index$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/index.ts [app-rsc] (ecmascript) <locals>",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$releases$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/releases.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/commits.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$classifications$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/packages/commit-analysis/src/db/queries/classifications.ts [app-rsc] (ecmascript)",
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$1$2e$6_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_babel$2d$plugin$2d$react$2d$compiler$40$1$2e$0$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/node_modules/.pnpm/next@16.1.6_@opentelemetry+api@1.9.0_babel-plugin-react-compiler@1.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)",
			)
		async function getTimelineData() {
			try {
				const releases = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$releases$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getReleases"
				])({
					limit: 20,
				})
				const commits = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getCommits"
				])({
					limit: 500,
				})
				// Group commits by release
				const result = []
				for (let i = 0; i < releases.length; i++) {
					const release = releases[i]
					const nextRelease = releases[i + 1]
					// Get commits between this release and the next one
					const releaseCommits = commits.filter((c) => {
						if (nextRelease) {
							return c.date <= release.date && c.date > nextRelease.date
						}
						return c.date <= release.date
					})
					result.push({
						release,
						commits: releaseCommits.slice(0, 50),
					})
				}
				return result
			} catch (error) {
				console.error("Error fetching timeline data:", error)
				return []
			}
		}
		async function getCommitDetails(sha) {
			try {
				const commits = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getCommits"
				])({
					limit: 1,
				})
				const commit = commits.find((c) => c.sha === sha || c.shortSha === sha)
				return commit || null
			} catch (error) {
				console.error("Error fetching commit details:", error)
				return null
			}
		}
		async function getDashboardStats() {
			try {
				const commits = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$commits$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getCommits"
				])({})
				const classifications = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$classifications$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getClassifications"
				])({})
				const distribution = await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$classifications$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getCategoryDistribution"
				])()
				const totalCommits = commits.length
				const totalClassified = classifications.length
				const avgRisk = classifications.reduce((sum, c) => sum + c.riskScore, 0) / (classifications.length || 1)
				return {
					totalCommits,
					totalClassified,
					avgRisk,
					distribution,
				}
			} catch (error) {
				console.error("Error fetching dashboard stats:", error)
				return {
					totalCommits: 0,
					totalClassified: 0,
					avgRisk: 0,
					distribution: [],
				}
			}
		}
		async function getHighRiskCommits(threshold = 50) {
			try {
				return await (0,
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$packages$2f$commit$2d$analysis$2f$src$2f$db$2f$queries$2f$classifications$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getClassifications"
				])({
					minRisk: threshold,
					limit: 20,
				})
			} catch (error) {
				console.error("Error fetching high risk commits:", error)
				return []
			}
		}
		;(0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$1$2e$6_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_babel$2d$plugin$2d$react$2d$compiler$40$1$2e$0$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"ensureServerEntryExports"
		])([getTimelineData, getCommitDetails, getDashboardStats, getHighRiskCommits])
		;(0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$1$2e$6_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_babel$2d$plugin$2d$react$2d$compiler$40$1$2e$0$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"registerServerReference"
		])(getTimelineData, "008206b6ad99d6bae606bf10310876c9597b8f1515", null)
		;(0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$1$2e$6_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_babel$2d$plugin$2d$react$2d$compiler$40$1$2e$0$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"registerServerReference"
		])(getCommitDetails, "404c2ee49666f6ffedaa184592eca2e1d4e7e87c79", null)
		;(0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$1$2e$6_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_babel$2d$plugin$2d$react$2d$compiler$40$1$2e$0$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"registerServerReference"
		])(getDashboardStats, "00ff52ab13a516834e168e95da9643206e1b50e5b1", null)
		;(0,
		__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$1$2e$6_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_babel$2d$plugin$2d$react$2d$compiler$40$1$2e$0$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
			"registerServerReference"
		])(getHighRiskCommits, "40d6263b15d180508a8204e6199dbfc869813adb66", null)
	},
	'[project]/Roo-Code/apps/web-commit-analysis/.next-internal/server/app/page/actions.js { ACTIONS_MODULE0 => "[project]/Roo-Code/apps/web-commit-analysis/src/actions/timeline.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>',
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f$src$2f$actions$2f$timeline$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/apps/web-commit-analysis/src/actions/timeline.ts [app-rsc] (ecmascript)",
			)
	},
	'[project]/Roo-Code/apps/web-commit-analysis/.next-internal/server/app/page/actions.js { ACTIONS_MODULE0 => "[project]/Roo-Code/apps/web-commit-analysis/src/actions/timeline.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript)',
	(__turbopack_context__) => {
		"use strict"

		__turbopack_context__.s([
			"008206b6ad99d6bae606bf10310876c9597b8f1515",
			() =>
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f$src$2f$actions$2f$timeline$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getTimelineData"
				],
			"00ff52ab13a516834e168e95da9643206e1b50e5b1",
			() =>
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f$src$2f$actions$2f$timeline$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getDashboardStats"
				],
			"404c2ee49666f6ffedaa184592eca2e1d4e7e87c79",
			() =>
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f$src$2f$actions$2f$timeline$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getCommitDetails"
				],
			"40d6263b15d180508a8204e6199dbfc869813adb66",
			() =>
				__TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f$src$2f$actions$2f$timeline$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__[
					"getHighRiskCommits"
				],
		])
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f2e$next$2d$internal$2f$server$2f$app$2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f$src$2f$actions$2f$timeline$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$locals$3e$__ =
			__turbopack_context__.i(
				'[project]/Roo-Code/apps/web-commit-analysis/.next-internal/server/app/page/actions.js { ACTIONS_MODULE0 => "[project]/Roo-Code/apps/web-commit-analysis/src/actions/timeline.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>',
			)
		var __TURBOPACK__imported__module__$5b$project$5d2f$Roo$2d$Code$2f$apps$2f$web$2d$commit$2d$analysis$2f$src$2f$actions$2f$timeline$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ =
			__turbopack_context__.i(
				"[project]/Roo-Code/apps/web-commit-analysis/src/actions/timeline.ts [app-rsc] (ecmascript)",
			)
	},
]

//# sourceMappingURL=%5Broot-of-the-server%5D__df96a78a._.js.map
