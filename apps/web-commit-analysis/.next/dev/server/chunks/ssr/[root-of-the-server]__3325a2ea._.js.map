{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/andre/work/Roo-Code/apps/web-commit-analysis/src/app/sync/page.tsx"],"sourcesContent":["import { getSyncData } from \"@/actions/sync\"\n\nexport const dynamic = \"force-dynamic\"\n\ninterface Props {\n\tsearchParams: Promise<{ upstream?: string; local?: string; maxRisk?: string }>\n}\n\nexport default async function SyncPage({ searchParams }: Props) {\n\tconst params = await searchParams\n\tconst upstream = params.upstream || \"origin/main\"\n\tconst local = params.local || \"HEAD\"\n\tconst maxRisk = parseInt(params.maxRisk || \"60\", 10)\n\n\tconst { summary, recommendation } = await getSyncData(upstream, local, maxRisk)\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<h2 className=\"text-2xl font-semibold\">Sync Advisor</h2>\n\t\t\t</div>\n\n\t\t\t<div className=\"border rounded-lg p-4 space-y-4\">\n\t\t\t\t<h3 className=\"font-semibold\">Configuration</h3>\n\t\t\t\t<form className=\"grid gap-4 md:grid-cols-4\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label className=\"text-sm text-muted-foreground block mb-1\">\n\t\t\t\t\t\t\tUpstream\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"upstream\"\n\t\t\t\t\t\t\tdefaultValue={upstream}\n\t\t\t\t\t\t\tclassName=\"w-full border rounded px-3 py-2 text-sm\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label className=\"text-sm text-muted-foreground block mb-1\">\n\t\t\t\t\t\t\tLocal\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"local\"\n\t\t\t\t\t\t\tdefaultValue={local}\n\t\t\t\t\t\t\tclassName=\"w-full border rounded px-3 py-2 text-sm\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label className=\"text-sm text-muted-foreground block mb-1\">\n\t\t\t\t\t\t\tMax Risk\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tname=\"maxRisk\"\n\t\t\t\t\t\t\tdefaultValue={maxRisk}\n\t\t\t\t\t\t\tclassName=\"w-full border rounded px-3 py-2 text-sm\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex items-end\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclassName=\"bg-primary text-primary-foreground px-4 py-2 rounded text-sm\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAnalyze\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{summary && (\n\t\t\t\t<div className=\"grid gap-6 md:grid-cols-3\">\n\t\t\t\t\t<div className=\"border rounded-lg p-4\">\n\t\t\t\t\t\t<div className=\"text-3xl font-bold\">{summary.behind}</div>\n\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">Commits behind</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border rounded-lg p-4\">\n\t\t\t\t\t\t<div className=\"text-3xl font-bold\">{summary.ahead}</div>\n\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">Commits ahead</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"border rounded-lg p-4\">\n\t\t\t\t\t\t<div className=\"text-3xl font-bold\">\n\t\t\t\t\t\t\t{summary.lastSyncDate\n\t\t\t\t\t\t\t\t? summary.lastSyncDate.toLocaleDateString()\n\t\t\t\t\t\t\t\t: \"N/A\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">Last sync</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{recommendation && (\n\t\t\t\t<div className=\"border rounded-lg p-4 space-y-4\">\n\t\t\t\t\t<h3 className=\"font-semibold\">Recommendation</h3>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`p-4 rounded-lg ${\n\t\t\t\t\t\t\trecommendation.safeToSync\n\t\t\t\t\t\t\t\t? \"bg-green-50 border border-green-200\"\n\t\t\t\t\t\t\t\t: \"bg-yellow-50 border border-yellow-200\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{recommendation.safeToSync ? (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"text-green-600 text-xl\">&#10003;</span>\n\t\t\t\t\t\t\t\t<span className=\"font-medium\">Safe to sync to {upstream}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<span className=\"text-yellow-600 text-xl\">&#9888;</span>\n\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\tConsider syncing to {recommendation.recommendedCommit.slice(0, 8)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tThis limits risk to acceptable levels.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"grid gap-4 md:grid-cols-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-2xl font-bold\">{recommendation.commitCount}</div>\n\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">Total commits</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-2xl font-bold\">{recommendation.breakdown.features}</div>\n\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">Features</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-2xl font-bold\">{recommendation.breakdown.fixes}</div>\n\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">Fixes</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-2xl font-bold\">\n\t\t\t\t\t\t\t\t{recommendation.totalRisk.toFixed(1)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">Aggregate risk</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{recommendation.warnings.length > 0 && (\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<h4 className=\"font-medium text-sm\">Warnings</h4>\n\t\t\t\t\t\t\t<ul className=\"space-y-1\">\n\t\t\t\t\t\t\t\t{recommendation.warnings.map((warning, i) => (\n\t\t\t\t\t\t\t\t\t<li key={i} className=\"text-sm text-muted-foreground flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-yellow-600\">&#9888;</span>\n\t\t\t\t\t\t\t\t\t\t{warning}\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{!summary && !recommendation && (\n\t\t\t\t<div className=\"text-center py-12 text-muted-foreground\">\n\t\t\t\t\t<p>Unable to analyze sync status.</p>\n\t\t\t\t\t<p className=\"mt-2 text-sm\">\n\t\t\t\t\t\tMake sure you have analyzed commits first and the repository is accessible.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n"],"names":[],"mappings":"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"}}]
}