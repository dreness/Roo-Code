{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/andre/work/Roo-Code/apps/web-commit-analysis/src/app/patterns/page.tsx"],"sourcesContent":["import { getPatternsData } from \"@/actions/patterns\"\n\nexport const dynamic = \"force-dynamic\"\n\nexport default async function PatternsPage() {\n\tconst { patterns, stats } = await getPatternsData()\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<h2 className=\"text-2xl font-semibold\">Regression Patterns</h2>\n\t\t\t\t{stats && (\n\t\t\t\t\t<div className=\"flex gap-4 text-sm text-muted-foreground\">\n\t\t\t\t\t\t<span>{stats.total} patterns detected</span>\n\t\t\t\t\t\t<span>{stats.active} active</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{patterns.length === 0 ? (\n\t\t\t\t<div className=\"text-center py-12 text-muted-foreground\">\n\t\t\t\t\t<p>No regression patterns detected yet.</p>\n\t\t\t\t\t<p className=\"mt-2 text-sm\">\n\t\t\t\t\t\tRun the analyze command to detect patterns:\n\t\t\t\t\t</p>\n\t\t\t\t\t<pre className=\"mt-2 bg-muted p-4 rounded-md inline-block text-left\">\n\t\t\t\t\t\tpnpm commit-analysis analyze --since HEAD~200\n\t\t\t\t\t</pre>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t{patterns.map((pattern) => (\n\t\t\t\t\t\t<PatternCard key={pattern.id} pattern={pattern} />\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nfunction PatternCard({ pattern }: { pattern: Awaited<ReturnType<typeof getPatternsData>>[\"patterns\"][0] }) {\n\tconst severityColors = {\n\t\tlow: \"bg-green-100 text-green-800\",\n\t\tmedium: \"bg-yellow-100 text-yellow-800\",\n\t\thigh: \"bg-red-100 text-red-800\",\n\t}\n\n\treturn (\n\t\t<div className=\"border rounded-lg p-4\">\n\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t<span\n\t\t\t\t\tclassName={`px-2 py-1 rounded text-xs font-medium ${severityColors[pattern.severity ?? \"low\"]}`}\n\t\t\t\t>\n\t\t\t\t\t{pattern.severity}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"font-medium\">{pattern.subsystem}</span>\n\t\t\t\t<span className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t{pattern.occurrenceCount} occurrences\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tclassName={`ml-auto px-2 py-1 rounded text-xs ${\n\t\t\t\t\t\tpattern.status === \"active\"\n\t\t\t\t\t\t\t? \"bg-orange-100 text-orange-800\"\n\t\t\t\t\t\t\t: \"bg-gray-100 text-gray-800\"\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t{pattern.status}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t{pattern.keywords && pattern.keywords.length > 0 && (\n\t\t\t\t<div className=\"mt-3 flex flex-wrap gap-1\">\n\t\t\t\t\t{pattern.keywords.map((keyword, i) => (\n\t\t\t\t\t\t<span key={i} className=\"bg-muted px-2 py-0.5 rounded text-xs\">\n\t\t\t\t\t\t\t{keyword}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{pattern.filePatterns && pattern.filePatterns.length > 0 && (\n\t\t\t\t<div className=\"mt-2 text-xs text-muted-foreground font-mono\">\n\t\t\t\t\t{pattern.filePatterns.join(\", \")}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;;AAEO,MAAM,UAAU;AAER,eAAe;IAC7B,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,iMAAe;IAEjD,qBACC,wdAAC;QAAI,WAAU;;0BACd,wdAAC;gBAAI,WAAU;;kCACd,wdAAC;wBAAG,WAAU;kCAAyB;;;;;;oBACtC,uBACA,wdAAC;wBAAI,WAAU;;0CACd,wdAAC;;oCAAM,MAAM,KAAK;oCAAC;;;;;;;0CACnB,wdAAC;;oCAAM,MAAM,MAAM;oCAAC;;;;;;;;;;;;;;;;;;;YAKtB,SAAS,MAAM,KAAK,kBACpB,wdAAC;gBAAI,WAAU;;kCACd,wdAAC;kCAAE;;;;;;kCACH,wdAAC;wBAAE,WAAU;kCAAe;;;;;;kCAG5B,wdAAC;wBAAI,WAAU;kCAAsD;;;;;;;;;;;qCAKtE,wdAAC;gBAAI,WAAU;0BACb,SAAS,GAAG,CAAC,CAAC,wBACd,wdAAC;wBAA6B,SAAS;uBAArB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAMlC;AAEA,SAAS,YAAY,EAAE,OAAO,EAA2E;IACxG,MAAM,iBAAiB;QACtB,KAAK;QACL,QAAQ;QACR,MAAM;IACP;IAEA,qBACC,wdAAC;QAAI,WAAU;;0BACd,wdAAC;gBAAI,WAAU;;kCACd,wdAAC;wBACA,WAAW,CAAC,sCAAsC,EAAE,cAAc,CAAC,QAAQ,QAAQ,IAAI,MAAM,EAAE;kCAE9F,QAAQ,QAAQ;;;;;;kCAElB,wdAAC;wBAAK,WAAU;kCAAe,QAAQ,SAAS;;;;;;kCAChD,wdAAC;wBAAK,WAAU;;4BACd,QAAQ,eAAe;4BAAC;;;;;;;kCAE1B,wdAAC;wBACA,WAAW,CAAC,kCAAkC,EAC7C,QAAQ,MAAM,KAAK,WAChB,kCACA,6BACF;kCAED,QAAQ,MAAM;;;;;;;;;;;;YAIhB,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,MAAM,GAAG,mBAC9C,wdAAC;gBAAI,WAAU;0BACb,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,kBAC/B,wdAAC;wBAAa,WAAU;kCACtB;uBADS;;;;;;;;;;YAOb,QAAQ,YAAY,IAAI,QAAQ,YAAY,CAAC,MAAM,GAAG,mBACtD,wdAAC;gBAAI,WAAU;0BACb,QAAQ,YAAY,CAAC,IAAI,CAAC;;;;;;;;;;;;AAKhC"}}]
}