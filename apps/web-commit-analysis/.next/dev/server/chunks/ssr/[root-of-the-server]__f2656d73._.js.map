{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/andre/work/Roo-Code/apps/web-commit-analysis/src/components/timeline/timeline.tsx"],"sourcesContent":["import Link from \"next/link\"\nimport type { ReleaseWithCommits } from \"@/actions/timeline\"\n\ninterface TimelineProps {\n\treleases: ReleaseWithCommits[]\n}\n\nexport function Timeline({ releases }: TimelineProps) {\n\tif (releases.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"text-center py-12 text-muted-foreground\">\n\t\t\t\t<p>No releases found.</p>\n\t\t\t\t<p className=\"mt-2 text-sm\">\n\t\t\t\t\tRun the analyze command to populate commit data:\n\t\t\t\t</p>\n\t\t\t\t<pre className=\"mt-2 bg-muted p-4 rounded-md inline-block text-left\">\n\t\t\t\t\tpnpm commit-analysis analyze --since HEAD~100\n\t\t\t\t</pre>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-8\">\n\t\t\t{releases.map((releaseData) => (\n\t\t\t\t<ReleaseGroup key={releaseData.release.version} data={releaseData} />\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nfunction ReleaseGroup({ data }: { data: ReleaseWithCommits }) {\n\tconst { release, commits } = data\n\n\treturn (\n\t\t<div className=\"border rounded-lg p-4\">\n\t\t\t<div className=\"flex items-center gap-4 mb-4\">\n\t\t\t\t<div className=\"w-3 h-3 bg-primary rounded-full\" />\n\t\t\t\t<h3 className=\"text-lg font-semibold\">v{release.version}</h3>\n\t\t\t\t<span className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t{release.date.toLocaleDateString()}\n\t\t\t\t</span>\n\t\t\t\t<div className=\"flex gap-2 ml-auto text-sm\">\n\t\t\t\t\t<span className=\"text-green-600\">{release.featureCount} features</span>\n\t\t\t\t\t<span className=\"text-blue-600\">{release.fixCount} fixes</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"ml-6 border-l pl-4 space-y-2\">\n\t\t\t\t{commits.map((commit) => (\n\t\t\t\t\t<CommitRow key={commit.sha} commit={commit} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction CommitRow({ commit }: { commit: ReleaseWithCommits[\"commits\"][0] }) {\n\tconst riskScore = commit.classification?.riskScore ?? 0\n\tconst riskColor = getRiskColor(riskScore)\n\n\treturn (\n\t\t<Link\n\t\t\thref={`/commits/${commit.sha}`}\n\t\t\tclassName=\"flex items-center gap-3 py-1 hover:bg-muted rounded px-2 -mx-2\"\n\t\t>\n\t\t\t<span className=\"font-mono text-sm text-muted-foreground\">{commit.shortSha}</span>\n\t\t\t<span className=\"flex-1 truncate\">{commit.message.split(\"\\n\")[0]}</span>\n\t\t\t<RiskBar score={riskScore} />\n\t\t\t<span className={`text-sm font-medium ${riskColor}`}>{riskScore.toFixed(0)}</span>\n\t\t</Link>\n\t)\n}\n\nfunction RiskBar({ score }: { score: number }) {\n\tconst filled = Math.ceil(score / 20)\n\n\treturn (\n\t\t<div className=\"flex gap-0.5\">\n\t\t\t{[1, 2, 3, 4, 5].map((i) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={i}\n\t\t\t\t\tclassName={`w-2 h-4 rounded-sm ${i <= filled ? getRiskBgColor(score) : \"bg-muted\"}`}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nfunction getRiskColor(score: number): string {\n\tif (score < 25) return \"text-green-600\"\n\tif (score < 50) return \"text-yellow-600\"\n\tif (score < 75) return \"text-orange-600\"\n\treturn \"text-red-600\"\n}\n\nfunction getRiskBgColor(score: number): string {\n\tif (score < 25) return \"bg-green-500\"\n\tif (score < 50) return \"bg-yellow-500\"\n\tif (score < 75) return \"bg-orange-500\"\n\treturn \"bg-red-500\"\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAOO,SAAS,SAAS,EAAE,QAAQ,EAAiB;IACnD,IAAI,SAAS,MAAM,KAAK,GAAG;QAC1B,qBACC,wdAAC;YAAI,WAAU;;8BACd,wdAAC;8BAAE;;;;;;8BACH,wdAAC;oBAAE,WAAU;8BAAe;;;;;;8BAG5B,wdAAC;oBAAI,WAAU;8BAAsD;;;;;;;;;;;;IAKxE;IAEA,qBACC,wdAAC;QAAI,WAAU;kBACb,SAAS,GAAG,CAAC,CAAC,4BACd,wdAAC;gBAA+C,MAAM;eAAnC,YAAY,OAAO,CAAC,OAAO;;;;;;;;;;AAIlD;AAEA,SAAS,aAAa,EAAE,IAAI,EAAgC;IAC3D,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG;IAE7B,qBACC,wdAAC;QAAI,WAAU;;0BACd,wdAAC;gBAAI,WAAU;;kCACd,wdAAC;wBAAI,WAAU;;;;;;kCACf,wdAAC;wBAAG,WAAU;;4BAAwB;4BAAE,QAAQ,OAAO;;;;;;;kCACvD,wdAAC;wBAAK,WAAU;kCACd,QAAQ,IAAI,CAAC,kBAAkB;;;;;;kCAEjC,wdAAC;wBAAI,WAAU;;0CACd,wdAAC;gCAAK,WAAU;;oCAAkB,QAAQ,YAAY;oCAAC;;;;;;;0CACvD,wdAAC;gCAAK,WAAU;;oCAAiB,QAAQ,QAAQ;oCAAC;;;;;;;;;;;;;;;;;;;0BAIpD,wdAAC;gBAAI,WAAU;0BACb,QAAQ,GAAG,CAAC,CAAC,uBACb,wdAAC;wBAA2B,QAAQ;uBAApB,OAAO,GAAG;;;;;;;;;;;;;;;;AAK/B;AAEA,SAAS,UAAU,EAAE,MAAM,EAAgD;IAC1E,MAAM,YAAY,OAAO,cAAc,EAAE,aAAa;IACtD,MAAM,YAAY,aAAa;IAE/B,qBACC,wdAAC,oaAAI;QACJ,MAAM,CAAC,SAAS,EAAE,OAAO,GAAG,EAAE;QAC9B,WAAU;;0BAEV,wdAAC;gBAAK,WAAU;0BAA2C,OAAO,QAAQ;;;;;;0BAC1E,wdAAC;gBAAK,WAAU;0BAAmB,OAAO,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;;;;;;0BAChE,wdAAC;gBAAQ,OAAO;;;;;;0BAChB,wdAAC;gBAAK,WAAW,CAAC,oBAAoB,EAAE,WAAW;0BAAG,UAAU,OAAO,CAAC;;;;;;;;;;;;AAG3E;AAEA,SAAS,QAAQ,EAAE,KAAK,EAAqB;IAC5C,MAAM,SAAS,KAAK,IAAI,CAAC,QAAQ;IAEjC,qBACC,wdAAC;QAAI,WAAU;kBACb;YAAC;YAAG;YAAG;YAAG;YAAG;SAAE,CAAC,GAAG,CAAC,CAAC,kBACrB,wdAAC;gBAEA,WAAW,CAAC,mBAAmB,EAAE,KAAK,SAAS,eAAe,SAAS,YAAY;eAD9E;;;;;;;;;;AAMV;AAEA,SAAS,aAAa,KAAa;IAClC,IAAI,QAAQ,IAAI,OAAO;IACvB,IAAI,QAAQ,IAAI,OAAO;IACvB,IAAI,QAAQ,IAAI,OAAO;IACvB,OAAO;AACR;AAEA,SAAS,eAAe,KAAa;IACpC,IAAI,QAAQ,IAAI,OAAO;IACvB,IAAI,QAAQ,IAAI,OAAO;IACvB,IAAI,QAAQ,IAAI,OAAO;IACvB,OAAO;AACR"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/andre/work/Roo-Code/apps/web-commit-analysis/src/app/page.tsx"],"sourcesContent":["import { Timeline } from \"@/components/timeline/timeline\"\nimport { getTimelineData, getDashboardStats } from \"@/actions/timeline\"\n\nexport const dynamic = \"force-dynamic\"\n\nexport default async function Page() {\n\tconst [releases, stats] = await Promise.all([getTimelineData(), getDashboardStats()])\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<h2 className=\"text-2xl font-semibold\">Commit Timeline</h2>\n\t\t\t\t<div className=\"flex gap-4 text-sm\">\n\t\t\t\t\t<span className=\"text-muted-foreground\">\n\t\t\t\t\t\t{stats.totalCommits} commits analyzed\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"text-muted-foreground\">\n\t\t\t\t\t\tAvg risk: {stats.avgRisk.toFixed(1)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Timeline releases={releases} />\n\t\t</div>\n\t)\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEO,MAAM,UAAU;AAER,eAAe;IAC7B,MAAM,CAAC,UAAU,MAAM,GAAG,MAAM,QAAQ,GAAG,CAAC;QAAC,IAAA,iMAAe;QAAI,IAAA,mMAAiB;KAAG;IAEpF,qBACC,wdAAC;QAAI,WAAU;;0BACd,wdAAC;gBAAI,WAAU;;kCACd,wdAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,wdAAC;wBAAI,WAAU;;0CACd,wdAAC;gCAAK,WAAU;;oCACd,MAAM,YAAY;oCAAC;;;;;;;0CAErB,wdAAC;gCAAK,WAAU;;oCAAwB;oCAC5B,MAAM,OAAO,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;;0BAKpC,wdAAC,0MAAQ;gBAAC,UAAU;;;;;;;;;;;;AAGvB"}}]
}